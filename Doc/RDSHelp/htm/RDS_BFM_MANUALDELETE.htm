<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">
<head>
  <link rel="stylesheet" type="text/css" href="../css/main.css" />
  <link rel="stylesheet" type="text/css" href="../css/cpp.css" />
  <meta http-equiv="Content-Type" content="text/html;charset=windows-1251" />
  <script type="text/javascript" src="script.js"></script>
  <title>А.2.7.1. RDS_BFM_MANUALDELETE &ndash; удаление блока пользователем</title>
</head><body onload="DocLoad()">
<div class="pageheader"><span class="off"><b>Текущий раздел:</b></span>
<div class="int"><p id="top"><a href="../index.htm">Описания RDS</a></p>
<div class="level"><p><a href="app_index.htm">Приложения</a></p>
<div class="level"><p><a href="app_index.htm#light_htm:app_a">Приложение А. Функции, константы и структуры RDS</a></p>
<div class="level"><p><a href="app_index.htm#light_htm:app_a_2">А.2. События блока и связанные с ними описания</a></p>
<div class="level"><p><a href="app_index.htm#light_htm:app_a_2_7">А.2.7. События, связанные с изменением схемы пользователем</a></p>
<div class="level"><p>А.2.7.1. <span class="cpp">RDS_BFM_MANUALDELETE</span> &ndash; удаление блока пользователем</p>
</div>
</div>
</div>
</div>
</div>
</div></div>
<div class="topnav"><span class="off"><b>Навигация:</b></span>
<div class="left">
<span class="button"><a href="RDS_BFM_WINREFRESH.htm" title="Предыдущий параграф" id="pgup">&lt;&lt;</a></span>
<span class="button"><a href="RDS_BFM_MANUALINSERT.htm" title="Следующий параграф" id="pgdn">&gt;&gt;</a></span>
<span class="divider"></span>
<span class="button"><a href="app_index.htm#light_htm:RDS_BFM_MANUALDELETE">Оглавление</a></span>
<span class="button"><a href="alpha.htm">Указатель</a></span>
</div>
</div>

<div class="text">
<h1 class="off">Приложения</h1>
<h2 class="off">Приложение А. Функции, константы и структуры RDS</h2>
<h3 class="off">А.2. События блока и связанные с ними описания</h3>
<h4>А.2.7. События, связанные с изменением схемы пользователем</h4>
<p class="abstract">Эти события возникают при перемещении блоков, изменении их размеров, добавлении и удалении блоков в схему и т.п. Хотя по смыслу они и близки к событиям пользовательского интерфейса, они выделены в отдельную группу, поскольку реакции на них требуются гораздо реже.</p>
<h5>А.2.7.1. <span class="cpp">RDS_BFM_MANUALDELETE</span> &ndash; удаление блока пользователем</h5>


<p class="apphdr">Поток, в котором вызывается <a href="app_a_2_1.htm" title="А.2.1. Функция модели блока">функция модели</a></p>
<p>Главный поток RDS.</p>

<p class="apphdr">Первый параметр функции модели (<span class="cpp">int&nbsp;CallMode</span>)</p>
<p>Константа <span class="cpp">RDS_BFM_MANUALDELETE</span>.</p>

<p class="apphdr">Третий параметр функции модели (<span class="cpp">void&nbsp;*ExtParam</span>)</p>
<p>Указатель на структуру описания события <span class="cpp"><a href="#ref1" title="Структура RDS_MANUALDELETEDATA">RDS_MANUALDELETEDATA</a></span>.</p>

<p class="apphdr">Возвращаемое функцией модели значение</p>
<p>Не используется, можно возвращать любое значение.</p>

<p class="apphdr">Примечания</p>
<p>Событие <span class="cpp">RDS_BFM_MANUALDELETE</span> возникает непосредственно перед тем,
как данный блок или содержащая его подсистема будут удалены из схемы пользователем. При удалении
блока сервисной функцией или при очистке памяти перед загрузкой новой схемы это событие не
возникает. Реакция на это событие может использоваться, например, для информирования пользователя о
возможных последствиях удаления важных для работы блоков (см.
<a href="pm_2_12_8.htm" title="&sect;2.12.8. Реакция на действия пользователя при редактировании схемы">&sect;2.12.8 руководства программиста</a>). Реагируя на событие
<span class="cpp">RDS_BFM_MANUALDELETE</span>, модель не может отменить удаление блока
&ndash; он будет удален в любом случае.</p>

<p><span id="ref1">В</span> <span id="ref2">параметре</span>
<span class="cpp">ExtParam</span> передается указатель на структуру <span class="cpp">RDS_MANUALDELETEDATA</span>,
описывающую событие:</p>

<pre class="cpp">  <span class="kw">typedef</span> <span class="kw">struct</span> {
    <a class="hidden" href="app_ids.htm#light_ref11" title="Логический тип Windows API">BOOL</a> Single;   <span class="rem">// Удаляется один блок</span>
    <a class="hidden" href="app_ids.htm#light_ref11" title="Логический тип Windows API">BOOL</a> WithSys;  <span class="rem">// Удаляется блок внутри удаляемой подсистемы</span>
  } <span id="light_ref1">RDS_MANUALDELETEDATA</span>;
  <span class="kw">typedef</span> RDS_MANUALDELETEDATA *<span id="light_ref2">RDS_PMANUALDELETEDATA</span>;</pre>


<p class="apphdr">Поля структуры</p>

<dl>
  <dt><span class="cpp">Single</span>&emsp;(<span class="cpp"><i>BOOL</i></span>)</dt>
  <dd><span class="cpp">TRUE</span>, если данный блок &ndash; единственный удаляемый, и
  <span class="cpp">FALSE</span>, если удаляется группа блоков, в которую входит данный.</dd>

  <dt><span class="cpp">WithSys</span>&emsp;(<span class="cpp"><i>BOOL</i></span>)</dt>
  <dd><span class="cpp">TRUE</span>, если пользователь удаляет подсистему, внутри которой (на любом
  уровне вложенности) находится этот блок, и <span class="cpp">FALSE</span>, если этот блок удаляется
  непосредственно (пользователь выделил данный блок или группу из блоков, в которую вошел данный, и
  выбрал пункт меню &laquo;<span class="menu">удалить</span>&raquo;).</dd>
</dl>

<p class="apphdr">См. также</p>
<p class="seealso"><span class="cpp"><a href="RDS_BFM_CLEANUP.htm" title="А.2.4.3. RDS_BFM_CLEANUP &ndash; очистка данных блока">RDS_BFM_CLEANUP</a></span>.</p>

</div>
<p style="clear:both; min-height:1em; padding:0px; margin: 0px;"></p><hr class="off" /><div class="bottomnav">
<div class="left">
<span class="button"><a href="RDS_BFM_WINREFRESH.htm" title="Предыдущий параграф" id="pgup_f">&lt;&lt;</a></span>
<span class="button"><a href="RDS_BFM_MANUALINSERT.htm" title="Следующий параграф" id="pgdn_f">&gt;&gt;</a></span>
<span class="divider"></span>
<span class="button"><a href="app_index.htm#light_htm:RDS_BFM_MANUALDELETE">Оглавление</a></span>
<span class="button"><a href="alpha.htm">Указатель</a></span>
</div>
</div>
</body>
</html>
