<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">
<head>
  <link rel="stylesheet" type="text/css" href="../css/main.css" />
  <link rel="stylesheet" type="text/css" href="../css/cpp.css" />
  <meta http-equiv="Content-Type" content="text/html;charset=windows-1251" />
  <script type="text/javascript" src="script.js"></script>
  <title>&sect;3.8.10.3. Сетевое соединение разорвано</title>
</head><body onload="DocLoad()">
<div class="pageheader"><span class="off"><b>Текущий раздел:</b></span>
<div class="int"><p id="top"><a href="../index.htm">Описания RDS</a></p>
<div class="level"><p><a href="um_index.htm">Описание пользователя</a></p>
<div class="level"><p><a href="um_index.htm#light_htm:um_3">Глава 3. Использование стандартных модулей автокомпиляции</a></p>
<div class="level"><p><a href="um_index.htm#light_htm:um_3_8">&sect;3.8. Краткий перечень вводимых в модель описаний и реакций на события</a></p>
<div class="level"><p><a href="um_index.htm#light_htm:um_3_8_10">&sect;3.8.10. Обмен данными по сети</a></p>
<div class="level"><p>&sect;3.8.10.3. Сетевое соединение разорвано</p>
</div>
</div>
</div>
</div>
</div>
</div></div>
<div class="topnav"><span class="off"><b>Навигация:</b></span>
<div class="left">
<span class="button"><a href="ac_RDS_BFM_NETCONNECT.htm" title="Предыдущий параграф" id="pgup">&lt;&lt;</a></span>
<span class="button"><a href="ac_RDS_BFM_NETDATAACCEPTED.htm" title="Следующий параграф" id="pgdn">&gt;&gt;</a></span>
<span class="divider"></span>
<span class="button"><a href="um_index.htm#light_htm:ac_RDS_BFM_NETDISCONNECT">Оглавление</a></span>
<span class="button"><a href="alpha.htm">Указатель</a></span>
</div>
</div>

<div class="text">
<h1 class="off">Описание пользователя</h1>
<h2 class="off">Глава 3. Использование стандартных модулей автокомпиляции</h2>
<h3 class="off">&sect;3.8. Краткий перечень вводимых в модель описаний и реакций на события</h3>
<h4 class="off">&sect;3.8.10. Обмен данными по сети</h4>
<h5>&sect;3.8.10.3. Сетевое соединение разорвано</h5>


<p>Это событие возникает в блоке, ранее запросившем сетевое соединение с каким-либо каналом передачи данных
сервера, при разрыве этого соединения. Если соединение разорвано сервером, RDS будет пытаться самостоятельно
восстановить его без участия модели.
Стандартный модуль автокомпиляции не автоматизирует передачу данных между блоками по сети, желающие реализовать ее
могут изучить <a href="pm_index.htm#light_htm:pm_2_15" title="&sect;2.15. Обмен данными по сети">&sect;2.15 руководства программиста</a>.</p>

<p>Текст реакции на разрыв соединения вводится
на вкладке &laquo;<span class="menu"><a href="um_3_6_4.htm" title="&sect;3.6.4. Описания программы и реакции блока на события">события</a></span>&raquo; левой панели редактора модели:
раздел &laquo;<span class="menu">сеть</span>&raquo;, подраздел &laquo;<span class="menu">соединение разорвано</span>&raquo;.
<span id="ref1">В</span> классе блока для нее создается функция с именем
<span class="cpp" id="light_ref1">rdsbcppNetDisconnect</span> следующего вида:</p>

<pre class="cpp">  // Разорвано соединение с сервером
  void rdsbcppBlockClass::rdsbcppNetDisconnect(<a class="hidden" href="RDS_BFM_NETCONNECT.htm#ref2" title="Указатель на RDS_NETCONNDATA">RDS_PNETCONNDATA</a> ConnData)
  {
    <span class="changes"><i>&nbsp;&hellip; пользовательский текст реакции &hellip;&nbsp;</i></span>
  }</pre>

<p><span id="ref2">Параметр</span> функции <span class="cpp">ConnData</span>
&ndash; это указатель на структуру
<span class="cpp" id="light_ref2"><a href="RDS_BFM_NETCONNECT.htm#ref1" title="Структура RDS_NETCONNDATA">RDS_NETCONNDATA</a></span>,
описывающую параметры установленного соединения
(см. <a href="ac_RDS_BFM_NETCONNECT.htm" title="&sect;3.8.10.2. Сетевое соединение установлено">&sect;3.8.10.2</a>).
Поле <span class="cpp">ByServer</span> этой структуры будет содержать
<span class="cpp">TRUE</span>, если соединение разорвано сервером, и <span class="cpp">FALSE</span>, если
соединение разорвано моделью самого блока.</p>

<p>При написании моделей блоков без использования модуля автокомпиляции разрыву сетевого соединения соответствует
константа RDS <span class="cpp"><a href="RDS_BFM_NETDISCONNECT.htm" title="А.2.8.4. RDS_BFM_NETDISCONNECT &ndash; разрыв соединения">RDS_BFM_NETDISCONNECT</a></span>.</p>

</div>
<p style="clear:both; min-height:1em; padding:0px; margin: 0px;"></p><hr class="off" /><div class="bottomnav">
<div class="left">
<span class="button"><a href="ac_RDS_BFM_NETCONNECT.htm" title="Предыдущий параграф" id="pgup_f">&lt;&lt;</a></span>
<span class="button"><a href="ac_RDS_BFM_NETDATAACCEPTED.htm" title="Следующий параграф" id="pgdn_f">&gt;&gt;</a></span>
<span class="divider"></span>
<span class="button"><a href="um_index.htm#light_htm:ac_RDS_BFM_NETDISCONNECT">Оглавление</a></span>
<span class="button"><a href="alpha.htm">Указатель</a></span>
</div>
</div>
</body>
</html>
