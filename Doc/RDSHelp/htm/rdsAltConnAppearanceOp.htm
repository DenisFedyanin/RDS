<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">
<head>
  <link rel="stylesheet" type="text/css" href="../css/main.css" />
  <link rel="stylesheet" type="text/css" href="../css/cpp.css" />
  <meta http-equiv="Content-Type" content="text/html;charset=windows-1251" />
  <script type="text/javascript" src="script.js"></script>
  <title>А.5.6.2. rdsAltConnAppearanceOp &ndash; операции с альтернативным внешним видом связи или шины</title>
</head><body onload="DocLoad()">
<div class="pageheader"><span class="off"><b>Текущий раздел:</b></span>
<div class="int"><p id="top"><a href="../index.htm">Описания RDS</a></p>
<div class="level"><p><a href="app_index.htm">Приложения</a></p>
<div class="level"><p><a href="app_index.htm#light_htm:app_a">Приложение А. Функции, константы и структуры RDS</a></p>
<div class="level"><p><a href="app_index.htm#light_htm:app_a_5">А.5. Сервисные функции RDS</a></p>
<div class="level"><p><a href="app_index.htm#light_htm:app_a_5_6">А.5.6. Операции с блоками и связями</a></p>
<div class="level"><p>А.5.6.2. <span class="cpp">rdsAltConnAppearanceOp</span> &ndash; операции с альтернативным внешним видом связи или шины</p>
</div>
</div>
</div>
</div>
</div>
</div></div>
<div class="topnav"><span class="off"><b>Навигация:</b></span>
<div class="left">
<span class="button"><a href="rdsActivateOutputConnections.htm" title="Предыдущий параграф" id="pgup">&lt;&lt;</a></span>
<span class="button"><a href="rdsBlockByFullName.htm" title="Следующий параграф" id="pgdn">&gt;&gt;</a></span>
<span class="divider"></span>
<span class="button"><a href="app_index.htm#light_htm:rdsAltConnAppearanceOp">Оглавление</a></span>
<span class="button"><a href="alpha.htm">Указатель</a></span>
</div>
</div>

<div class="text">
<h1 class="off">Приложения</h1>
<h2 class="off">Приложение А. Функции, константы и структуры RDS</h2>
<h3 class="off">А.5. Сервисные функции RDS</h3>
<h4 class="off">А.5.6. Операции с блоками и связями</h4>
<h5>А.5.6.2. <span class="cpp">rdsAltConnAppearanceOp</span> &ndash; операции с альтернативным внешним видом связи или шины</h5>


<p><span id="ref1">Функция</span>
<span class="cpp"><span id="ref2">rdsAltConnAppearanceOp</span></span>
позволяет временно изменять внешний вид
<a href="um_2_7_1.htm" title="&sect;2.7.1. Общие принципы создания связей">связи</a> или
<a href="um_2_8.htm" title="&sect;2.8. Использование шин">шины</a> (визуально выделять ее) или считывать параметры такого
измененного внешнего вида.</p>

<pre class="cpp">  <span class="kw">int</span> <a class="hidden" href="app_ids.htm#light_ref24" title="Тип вызова сервисных функций">RDSCALL</a> rdsAltConnAppearanceOp(
      <span id="light_ref1"><a class="hidden" href="app_ids.htm#light_ref2" title="Идентификатор связи">RDS_CHANDLE</a></span> Conn,          <span class="rem">// Идентификатор связи/шины</span>
      <span class="kw">int</span> Op,                    <span class="rem">// Операция (RDS_CAO*)</span>
      <span class="kw">int</span> Num,                   <span class="rem">// Номер внешнего вида</span>
      <span id="light_ref2"><a class="hidden" href="RDS_CONNAPPEARANCE.htm#ref2" title="Указатель на RDS_CONNAPPEARANCE">RDS_PCONNAPPEARANCE</a></span> pData  <span class="rem">// Описание внешнего вида</span>
  );</pre>

<p class="apphdr">Тип указателя на эту функцию</p>
<p><span class="cpp">RDS_IChIICa</span></p>

<p class="apphdr">Параметры</p>

<dl>
  <dt><span class="cpp">Conn</span>&emsp;(<span class="cpp"><i><a href="app_ids.htm#light_ref2" title="Идентификатор связи">RDS_CHANDLE</a></i></span>)</dt>
  <dd>Идентификатор связи или шины, для которой нужно установить альтернативный внешний
  вид или считать его параметры.</dd>

  <dt><span class="cpp">Op</span>&emsp;(<span class="cpp"><i>int</i></span>)</dt>
  <dd>Выполняемая операция, одна из констант <span class="cpp">RDS_CAO*</span> (см. ниже).</dd>

  <dt><span class="cpp">Num</span>&emsp;(<span class="cpp"><i>int</i></span>)</dt>
  <dd>Номер альтернативного внешнего вида или число таких видов в зависимости от
  значения <span class="cpp">Op</span> (см. ниже).</dd>

  <dt><span id="ref3"><span class="cpp">pData</span>&emsp;(<span class="cpp"><i><a href="RDS_CONNAPPEARANCE.htm#ref2" title="Указатель на RDS_CONNAPPEARANCE">RDS_PCONNAPPEARANCE</a></i></span>)</span></dt>
  <dd>Указатель на структуру описания внешнего вида связи
  (<span id="light_ref3"><span class="cpp"><a href="RDS_CONNAPPEARANCE.htm#ref1" title="Структура RDS_CONNAPPEARANCE">RDS_CONNAPPEARANCE</a></span></span>), из которой берутся или в
  которую записываются, в зависимости от значения <span class="cpp">Op</span>, параметры
  альтернативного внешнего вида связи.</dd>
</dl>

<p class="apphdr">Возвращаемое значение</p>
<p>Зависит от параметра <span class="cpp">Op</span>, см. ниже.</p>

<p class="apphdr">Примечания</p>
<p>Эта функция позволяет создавать для связи или шины альтернативные наборы параметров внешнего вида и
оперативно переключаться между ними. Чаще всего этот механизм используется для временного визуального выделения
какой-либо группы связей: его преимущество перед использованием функции постоянного изменения внешнего
вида связи <span class="cpp"><a href="rdsSetConnAppearance.htm" title="А.5.6.51. rdsSetConnAppearance &ndash; задать внешний вид связи">rdsSetConnAppearance</a></span> заключается в том, что альтернативные наборы
внешнего вида связи не запоминаются при сохранении схемы, поэтому после загрузки схемы все временные
выделения исчезнут автоматически. Кроме того, функция <span class="cpp">rdsAltConnAppearanceOp</span>
автоматически запоминает исходный внешний вид связи и позволяет быстро вернуться к нему.</p>

<p>Действия, выполняемые функцией, и возвращаемое ей значение зависят от параметра <span class="cpp">Op</span>,
который может принимать одно из следующих значений:</p>

<dl>
  <dt><span class="cpp"><span id="light_ref4">RDS_CAOCOUNT</span></span></dt>
  <dd>Функция возвращает число запомненных в связи или шине <span class="cpp">Conn</span> альтернативных
  внешних видов. Значения параметров <span class="cpp">Num</span> и <span class="cpp">pData</span>
  не используются.</dd>

  <dt><span class="cpp"><span id="light_ref5">RDS_CAODELETE</span></span></dt>
  <dd>Удалить из связи или шины <span class="cpp">Conn</span> альтернативный внешний вид с номером
  <span class="cpp">Num</span>. Все виды с номерами, большими <span class="cpp">Num</span>, сдвигаются вниз
  на единицу (то есть, если удалить внешний вид с номером 5, вид с номером 6 станет видом 5, вид 7
  станет видом 6 и т.д.). Параметр <span class="cpp">pData</span> не используется. Функция возвращает число
  оставшихся альтернативных внешних видов. При удалении самого последнего внешнего вида автоматически
  восстанавливается исходный внешний вид связи.</dd>

  <dt><span class="cpp"><span id="light_ref6">RDS_CAOGET</span></span></dt>
  <dd>Считать из <span class="cpp">Conn</span> параметры альтернативного внешнего вида с номером
  <span class="cpp">Num</span> в структуру, на которую указывает <span class="cpp">pData</span>. Функция
  возвращает 1, если в <span class="cpp">Conn</span> есть внешний вид с таким номером, и 0 в противном случае.</dd>

  <dt><span class="cpp"><span id="light_ref7">RDS_CAOPREALLOCATE</span></span></dt>
  <dd>Подготовиться к созданию в связи или шине <span class="cpp">Conn</span> альтернативных видов общим числом
  <span class="cpp">Num</span>. Если на данный момент в <span class="cpp">Conn</span> уже больше
  <span class="cpp">Num</span> видов, &laquo;лишние&raquo; виды будут удалены. Функция всегда возвращает
  0, параметр <span class="cpp">pData</span> не используется. Эта операция позволяет ускорить создание
  большого количества внешних видов &ndash; при желании, ее можно не выполнять, сразу создавая внешние виды
  вызовами <span class="cpp">rdsAltConnAppearanceOp</span> с параметром <span class="cpp">Op</span>, равным
  <span class="cpp">RDS_CAOSET</span>.</dd>

  <dt><span class="cpp"><span id="light_ref8">RDS_CAORESTORE</span></span></dt>
  <dd>Восстановить исходный (до установки альтернативных) внешний вид связи или шины
  <span class="cpp">Conn</span>. Параметры
  <span class="cpp">Num</span> и <span class="cpp">pData</span> не используются. Функция всегда возвращает 0.</dd>

  <dt><span class="cpp"><span id="light_ref9">RDS_CAOSET</span></span></dt>
  <dd>Запомнить в <span class="cpp">Conn</span> новый альтернативный внешний вид с номером
  <span class="cpp">Num</span>, взяв его параметры из структуры, на которую указывает <span class="cpp">pData</span>.
  Если в связи или шине <span class="cpp">Conn</span> уже есть альтернативный внешний вид с таким номером,
  его параметры будут заменены и функция вернет <span class="cpp">Num</span>, в противном случае будет создан
  новый внешний вид и функция вернет его номер. Если в параметре <span class="cpp">pData</span> передано значение
  <span class="cpp">NULL</span>, параметры запоминаемого внешнего вида будут скопированы из исходного внешнего
  вида связи. Запоминание нового альтернативного внешнего вида не приводит к его установке, для этого нужно явно
  вызвать <span class="cpp">rdsAltConnAppearanceOp</span> с параметром <span class="cpp">Op</span>, равным
  <span class="cpp">RDS_CAOSETCURRENT</span>.</dd>

  <dt><span class="cpp"><span id="light_ref10">RDS_CAOSETCURRENT</span></span></dt>
  <dd>Применить к <span class="cpp">Conn</span> альтернативный внешний вид с номером
  <span class="cpp">Num</span>. Параметр <span class="cpp">pData</span> не используется. Функция возвращает
  1, если внешний вид установлен (то есть если в <span class="cpp">Conn</span> есть запомненный внешний вид
  с таким номером), и 0 в противном случае.</dd>
</dl>

<p class="apphdr">Пример</p>
<p>Пример использования функции <span class="cpp">rdsAltConnAppearanceOp</span> проведен
в <a href="pm_2_13_4.htm" title="&sect;2.13.4. Пример использования функций блоков для поиска пути в графе">&sect;2.13.4 руководства программиста</a>.</p>

<p class="apphdr">См. также</p>
<p class="seealso"><span class="cpp"><a href="rdsSetConnAppearance.htm" title="А.5.6.51. rdsSetConnAppearance &ndash; задать внешний вид связи">rdsSetConnAppearance</a></span>,
<span class="cpp"><a href="rdsGetConnAppearance.htm" title="А.5.6.22. rdsGetConnAppearance &ndash; получить внешний вид связи">rdsGetConnAppearance</a></span>.</p>

</div>
<p style="clear:both; min-height:1em; padding:0px; margin: 0px;"></p><hr class="off" /><div class="bottomnav">
<div class="left">
<span class="button"><a href="rdsActivateOutputConnections.htm" title="Предыдущий параграф" id="pgup_f">&lt;&lt;</a></span>
<span class="button"><a href="rdsBlockByFullName.htm" title="Следующий параграф" id="pgdn_f">&gt;&gt;</a></span>
<span class="divider"></span>
<span class="button"><a href="app_index.htm#light_htm:rdsAltConnAppearanceOp">Оглавление</a></span>
<span class="button"><a href="alpha.htm">Указатель</a></span>
</div>
</div>
</body>
</html>
