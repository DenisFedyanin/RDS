<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">
<head>
  <link rel="stylesheet" type="text/css" href="../css/main.css" />
  <link rel="stylesheet" type="text/css" href="../css/cpp.css" />
  <meta http-equiv="Content-Type" content="text/html;charset=windows-1251" />
  <script type="text/javascript" src="script.js"></script>
  <title>А.5.28.2. rdsFORMAddEdit &ndash; добавить поле ввода</title>
</head><body onload="DocLoad()">
<div class="pageheader"><span class="off"><b>Текущий раздел:</b></span>
<div class="int"><p id="top"><a href="../index.htm">Описания RDS</a></p>
<div class="level"><p><a href="app_index.htm">Приложения</a></p>
<div class="level"><p><a href="app_index.htm#light_htm:app_a">Приложение А. Функции, константы и структуры RDS</a></p>
<div class="level"><p><a href="app_index.htm#light_htm:app_a_5">А.5. Сервисные функции RDS</a></p>
<div class="level"><p><a href="app_index.htm#light_htm:app_a_5_28">А.5.28. Вспомогательный объект для работы с модальными окнами</a></p>
<div class="level"><p>А.5.28.2. <span class="cpp">rdsFORMAddEdit</span> &ndash; добавить поле ввода</p>
</div>
</div>
</div>
</div>
</div>
</div></div>
<div class="topnav"><span class="off"><b>Навигация:</b></span>
<div class="left">
<span class="button"><a href="rdsFORMCreate.htm" title="Предыдущий параграф" id="pgup">&lt;&lt;</a></span>
<span class="button"><a href="app_a_fields.htm" title="Следующий параграф" id="pgdn">&gt;&gt;</a></span>
<span class="divider"></span>
<span class="button"><a href="app_index.htm#light_htm:rdsFORMAddEdit">Оглавление</a></span>
<span class="button"><a href="alpha.htm">Указатель</a></span>
</div>
</div>

<div class="text">
<h1 class="off">Приложения</h1>
<h2 class="off">Приложение А. Функции, константы и структуры RDS</h2>
<h3 class="off">А.5. Сервисные функции RDS</h3>
<h4 class="off">А.5.28. Вспомогательный объект для работы с модальными окнами</h4>
<h5>А.5.28.2. <span class="cpp">rdsFORMAddEdit</span> &ndash; добавить поле ввода</h5>


<p>Функция <span class="cpp">rdsFORMAddEdit</span> добавляет в
<a href="rdsFORMCreate.htm" title="А.5.28.1. rdsFORMCreate &ndash; создать объект для работы с окном">объект</a> для работы с модальным окном новое поле ввода.</p>

<pre class="cpp">  <span class="kw">void</span> <a class="hidden" href="app_ids.htm#light_ref24" title="Тип вызова сервисных функций">RDSCALL</a> rdsFORMAddEdit(
      <a class="hidden" href="app_ids.htm#light_ref6" title="Идентификатор вспомогательного объекта">RDS_HOBJECT</a> Win,    <span class="rem">// Объект</span>
      <span class="kw">int</span> TabId,          <span class="rem">// Идентификатор вкладки</span>
      <span class="kw">int</span> CtrlId,         <span class="rem">// Идентификатор поля</span>
      <a class="hidden" href="app_ids.htm#light_ref14" title="Беззнаковое целое 32 бита">DWORD</a> Type,         <span class="rem">// Тип (RDS_FORMCTRL_* | RDS_FORMFLAG_*)</span>
      <a class="hidden" href="app_ids.htm#light_ref20" title="Указатель на строку (char*)">LPSTR</a> Caption,      <span class="rem">// Заголовок поля</span>
      <span class="kw">int</span> Width           <span class="rem">// Ширина поля или -1</span>
  );</pre>

<p class="apphdr">Тип указателя на эту функцию</p>
<p><span class="cpp">RDS_VHoIIDwSI</span></p>

<p class="apphdr">Параметры</p>

<dl>
  <dt><span class="cpp">Win</span>&emsp;(<span class="cpp"><i><a href="app_ids.htm#light_ref6" title="Идентификатор вспомогательного объекта">RDS_HOBJECT</a></i></span>)</dt>
  <dd>Идентификатор вспомогательного объекта для работы с модальным окном,
  ранее созданного функцией <span class="cpp"><a href="rdsFORMCreate.htm" title="А.5.28.1. rdsFORMCreate &ndash; создать объект для работы с окном">rdsFORMCreate</a></span>.</dd>

  <dt><span class="cpp">TabId</span>&emsp;(<span class="cpp"><i>int</i></span>)</dt>
  <dd>Целый идентификатор вкладки окна или <a href="rdsFORMEnableSidePanel.htm" title="А.5.28.5. rdsFORMEnableSidePanel &ndash; включить боковую панель">боковой панели</a>,
  на которую будет добавлено поле. Вкладки создаются вызовами <span class="cpp"><a href="rdsFORMAddTab.htm" title="А.5.28.4. rdsFORMAddTab &ndash; добавить вкладку">rdsFORMAddTab</a></span>.
  Если в окне нет ни вкладок, ни боковой панели, параметр игнорируется.</dd>

  <dt><span class="cpp">CtrlId</span>&emsp;(<span class="cpp"><i>int</i></span>)</dt>
  <dd>Произвольный целый идентификатор, который будет присвоен созданному полю ввода.
  Вся дальнейшая работа с этим полем будет вестись по этому идентификатору.</dd>

  <dt><span class="cpp">Type</span>&emsp;(<span class="cpp"><i><a href="app_ids.htm#light_ref14" title="Беззнаковое целое 32 бита">DWORD</a></i></span>)</dt>
  <dd>Одна из констант <span class="cpp">RDS_FORMCTRL_*</span>, указывающая тип создаваемого поля ввода,
  объединенная битовым ИЛИ с флагами поля <span class="cpp">RDS_FORMFLAG_*</span>. Типы и флаги полей подробно
  рассматриваются в <a href="app_a_fields.htm" title="А.5.28.3. Типы и флаги полей ввода">приложении А.5.28.3</a>.
  В окно может быть добавлено поле ввода одного из следующих типов:<br />
    <div class="tableleft"><div class="tcont">
      <table class="list">
        <tr>
          <td class="term"><span class="cpp">RDS_FORMCTRL_BUTTON</span></td>
          <td><a href="app_a_fields.htm#light_ref1" title="RDS_FORMCTRL_BUTTON">Кнопка</a>, реакция на которую
          определяется функцией обратного вызова.</td>
        </tr>
        <tr>
          <td class="term"><span class="cpp">RDS_FORMCTRL_CHECKBOX</span></td>
          <td><a href="app_a_fields.htm#light_ref2" title="RDS_FORMCTRL_CHECKBOX">Одиночный флаг</a>.</td>
        </tr>
        <tr>
          <td class="term"><span class="cpp">RDS_FORMCTRL_COLOR</span></td>
          <td><a href="app_a_fields.htm#light_ref3" title="RDS_FORMCTRL_COLOR">Кнопка выбора цвета.</a>.</td>
        </tr>
        <tr>
          <td class="term"><span class="cpp">RDS_FORMCTRL_COMBOEDIT</span></td>
          <td><a href="app_a_fields.htm#light_ref4" title="RDS_FORMCTRL_COMBOEDIT">Поле ввода с выпадающим списком</a>
          готовых вариантов заполнения.</td>
        </tr>
        <tr>
          <td class="term"><span class="cpp">RDS_FORMCTRL_COMBOLIST</span></td>
          <td><a href="app_a_fields.htm#light_ref5" title="RDS_FORMCTRL_COMBOLIST">Выпадающий список</a> без возможности ручного ввода значения.</td>
        </tr>
        <tr>
          <td class="term"><span class="cpp">RDS_FORMCTRL_DIRDIALOG</span></td>
          <td><a href="app_a_fields.htm#light_ref6" title="RDS_FORMCTRL_DIRDIALOG">Кнопка выбора папки</a>.</td>
        </tr>
        <tr>
          <td class="term"><span class="cpp">RDS_FORMCTRL_DISPLAY</span></td>
          <td><a href="app_a_fields.htm#light_ref7" title="RDS_FORMCTRL_DISPLAY">Индикация значения</a>.</td>
        </tr>
        <tr>
          <td class="term"><span class="cpp">RDS_FORMCTRL_EDIT</span></td>
          <td><a href="app_a_fields.htm#light_ref8" title="RDS_FORMCTRL_EDIT">Обычное поле ввода</a> на одну строку текста.</td>
        </tr>
        <tr>
          <td class="term"><span class="cpp">RDS_FORMCTRL_FONTSELECT</span></td>
          <td><a href="app_a_fields.htm#light_ref9" title="RDS_FORMCTRL_FONTSELECT">Кнопка выбора шрифта</a>.</td>
        </tr>
        <tr>
          <td class="term"><span class="cpp">RDS_FORMCTRL_HOTKEY</span></td>
          <td><a href="app_a_fields.htm#light_ref10" title="RDS_FORMCTRL_HOTKEY">Поле ввода для сочетания клавиш</a>.</td>
        </tr>
        <tr>
          <td class="term"><span class="cpp">RDS_FORMCTRL_LABEL</span></td>
          <td><a href="app_a_fields.htm#light_ref11" title="RDS_FORMCTRL_LABEL">Надпись</a> без поля ввода.</td>
        </tr>
        <tr>
          <td class="term"><span class="cpp">RDS_FORMCTRL_LISTANDEDIT</span></td>
          <td>Поле ввода с <a href="app_a_fields.htm#light_ref12" title="RDS_FORMCTRL_LISTANDEDIT">дополнительным выпадающим списком</a>.</td>
        </tr>
        <tr>
          <td class="term"><span class="cpp">RDS_FORMCTRL_MULTILINE</span></td>
          <td>Поле ввода <a href="app_a_fields.htm#light_ref13" title="RDS_FORMCTRL_MULTILINE">нескольких строк текста</a>.</td>
        </tr>
        <tr>
          <td class="term"><span class="cpp">RDS_FORMCTRL_NONVISUAL</span></td>
          <td><a href="app_a_fields.htm#light_ref14" title="RDS_FORMCTRL_NONVISUAL">Скрытое поле</a>.</td>
        </tr>
        <tr>
          <td class="term"><span class="cpp">RDS_FORMCTRL_OPENDIALOG</span></td>
          <td><a href="app_a_fields.htm#light_ref15" title="RDS_FORMCTRL_OPENDIALOG">Кнопка с диалогом открытия файла</a>.</td>
        </tr>
        <tr>
          <td class="term"><span class="cpp">RDS_FORMCTRL_PAINTBOX</span></td>
          <td>Область <a href="app_a_fields.htm#light_ref16" title="RDS_FORMCTRL_PAINTBOX">программного рисования</a>.</td>
        </tr>
        <tr>
          <td class="term"><span class="cpp">RDS_FORMCTRL_RADIOBUTTON</span></td>
          <td><a href="app_a_fields.htm#light_ref17" title="RDS_FORMCTRL_RADIOBUTTON">Флаг, связанный с другими флагами</a>
          &ndash; включен может быть только один.</td>
        </tr>
        <tr>
          <td class="term"><span class="cpp">RDS_FORMCTRL_RANGEEDIT</span></td>
          <td><a href="app_a_fields.htm#light_ref18" title="RDS_FORMCTRL_RANGEEDIT">Два поля ввода</a> для задания диапазона значений.</td>
        </tr>
        <tr>
          <td class="term"><span class="cpp">RDS_FORMCTRL_SAVEDIALOG</span></td>
          <td><a href="app_a_fields.htm#light_ref19" title="RDS_FORMCTRL_SAVEDIALOG">Кнопка с диалогом сохранения файла</a>.</td>
        </tr>
        <tr>
          <td class="term"><span class="cpp">RDS_FORMCTRL_UPDOWN</span></td>
          <td><a href="app_a_fields.htm#light_ref20" title="RDS_FORMCTRL_UPDOWN">Поле ввода со стрелками</a> вверх и вниз.</td>
        </tr>
      </table>
    </div></div>
    Для установки и чтения значения полей ввода используется команда <span class="cpp"><a href="RDS_FORMVAL_VALUE.htm" title="А.5.28.27. Команда RDS_FORMVAL_VALUE &ndash; значение поля">RDS_FORMVAL_VALUE</a></span>,
    но для некоторых типов полей существуют дополнительные команды: например, для поля ввода со стрелками
    можно установить шаг изменения значения, для поля с выпадающим списком &ndash; список вариантов и т.п.
    Константа типа поля ввода <span class="cpp">RDS_FORMCTRL_*</span> в параметре <span class="cpp">Type</span> может
    объединяться с флагами <span class="cpp">RDS_FORMFLAG_*</span>, модифицирующими внешний вид поля:<br />
    <div class="tableleft"><div class="tcont">
      <table class="list">
        <tr>
          <td class="term"><span class="cpp">RDS_FORMFLAG_CHECK</span></td>
          <td>Слева от заголовка поля находится <a href="app_a_fields.htm#light_ref21" title="RDS_FORMFLAG_CHECK">флаг</a>,
          управляющий разрешением и запрещением этого поля.</td>
        </tr>
        <tr>
          <td class="term"><span class="cpp">RDS_FORMFLAG_CHECKRADIO</span><br />
          (только вместе с флагом <span class="cpp">RDS_FORMFLAG_CHECK</span>).</td>
          <td>Разрешающий флаг слева от заголовка поля <a href="app_a_fields.htm#light_ref22" title="RDS_FORMFLAG_CHECKRADIO">входит в группу</a>
          взаимоисключающих флагов.</td>
        </tr>
        <tr>
          <td class="term"><span class="cpp">RDS_FORMFLAG_DISABLED</span></td>
          <td>Поле ввода <a href="app_a_fields.htm#light_ref23" title="RDS_FORMFLAG_DISABLED">запрещено</a> и отображается серым цветом.</td>
        </tr>
        <tr>
          <td class="term"><span class="cpp">RDS_FORMFLAG_LCENTER</span></td>
          <td>Заголовок поля ввода <a href="app_a_fields.htm#light_ref24" title="RDS_FORMFLAG_LCENTER">выровнен по центру</a>.</td>
        </tr>
        <tr>
          <td class="term"><span class="cpp">RDS_FORMFLAG_LINE</span></td>
          <td>Под полем располагается <a href="app_a_fields.htm#light_ref25" title="RDS_FORMFLAG_LINE">рельефная линия</a>.</td>
        </tr>
        <tr>
          <td class="term"><span class="cpp">RDS_FORMFLAG_LRIGHT</span></td>
          <td>Заголовок поля ввода <a href="app_a_fields.htm#light_ref26" title="RDS_FORMFLAG_LRIGHT">выровнен по правому краю</a>.</td>
        </tr>
      </table>
    </div></div>
  </dd>

  <dt><span class="cpp">Caption</span>&emsp;(<span class="cpp"><i><a href="app_ids.htm#light_ref20" title="Указатель на строку (char*)">LPSTR</a></i></span>)</dt>
  <dd>Указатель на строку с заголовком поля ввода. В большинстве полей заголовок размещается слева
  от самого поля и, если не установлены флаги <span class="cpp">RDS_FORMFLAG_LRIGHT</span> или
  <span class="cpp">RDS_FORMFLAG_LCENTER</span>, выровнен по левому краю. В полях типа
  <span class="cpp">RDS_FORMCTRL_CHECKBOX</span> и <span class="cpp">RDS_FORMCTRL_RADIOBUTTON</span> заголовок размещается
  справа от галочки, по которой может щелкать пользователь, и всегда выровнен по левому краю. В полях типа
  <span class="cpp">RDS_FORMCTRL_MULTILINE</span> и <span class="cpp">RDS_FORMCTRL_PAINTBOX</span> заголовок
  размещается над полем (поле занимает всю ширину окна). Если для поля задан флаг
  <span class="cpp">RDS_FORMFLAG_CHECK</span>, дополнительная галочка будет размещаться слева от заголовка.</dd>

  <dt><span class="cpp">Width</span>&emsp;(<span class="cpp"><i>int</i></span>)</dt>
  <dd>Ширина поля в точках экрана или &minus;1 для ширины по умолчанию. Для некоторых типов полей ввода
  (<span class="cpp">RDS_FORMCTRL_MULTILINE</span>, <span class="cpp">RDS_FORMCTRL_PAINTBOX</span>,
  <span class="cpp">RDS_FORMCTRL_CHECKBOX</span>, <span class="cpp">RDS_FORMCTRL_RADIOBUTTON</span>)
  ширина устанавливается автоматически и значение <span class="cpp">Width</span> игнорируется.</dd>
</dl>

<p class="apphdr">Примечания</p>
<p>Эта функция добавляет в объект <span class="cpp">Win</span> на вкладку <span class="cpp">TabId</span> поле ввода типа
<span class="cpp">Type</span> с заголовком <span class="cpp">Caption</span> и идентификатором
<span class="cpp">CtrlId</span>. Поля добавляются сверху вниз, то есть каждый следующий вызов
<span class="cpp">rdsFORMAddEdit</span> добавляет поле на вкладку <span class="cpp">TabId</span> непосредственно под
последним добавленным полем. Идентификаторы полям можно присваивать произвольно &ndash; главное, чтобы в
одном окне не было двух полей с одинаковыми идентификаторами.</p>

<p>Константы <span class="cpp">RDS_FORMFLAG_*</span> позволяют изменить выравнивание заголовка поля
ввода, а также добавить слева от этого заголовка флаг, который будет разрешать или запрещать ввод
данных в поле.</p>

<p class="apphdr">Пример</p>
<p>Примеры использования функции <span class="cpp">rdsFORMAddEdit</span> приведены в
<a href="pm_index.htm" title="Руководство программиста">руководстве программиста</a>:
<a href="pm_2_7_2.htm" title="&sect;2.7.2. Использование объектов-окон RDS">&sect;2.7.2</a>,
<a href="pm_2_10_1.htm" title="&sect;2.10.1. Рисование изображения блока в окне подсистемы">&sect;2.10.1</a> и др.</p>

<p class="apphdr">См. также</p>
<p class="seealso"><span class="cpp"><a href="rdsFORMCreate.htm" title="А.5.28.1. rdsFORMCreate &ndash; создать объект для работы с окном">rdsFORMCreate</a></span>,
<span class="cpp"><a href="rdsFORMAddTab.htm" title="А.5.28.4. rdsFORMAddTab &ndash; добавить вкладку">rdsFORMAddTab</a></span>,
<span class="cpp"><a href="RDS_FORMVAL_VALUE.htm" title="А.5.28.27. Команда RDS_FORMVAL_VALUE &ndash; значение поля">RDS_FORMVAL_VALUE</a></span>,
<span class="cpp"><a href="RDS_FORMVAL_ENABLED.htm" title="А.5.28.15. Команда RDS_FORMVAL_ENABLED &ndash; разрешение и запрещение всего поля ввода">RDS_FORMVAL_ENABLED</a></span>,
<span class="cpp"><a href="rdsFORMEnableSidePanel.htm" title="А.5.28.5. rdsFORMEnableSidePanel &ndash; включить боковую панель">rdsFORMEnableSidePanel</a></span>,
<a href="app_a_fields.htm" title="А.5.28.3. Типы и флаги полей ввода">типы и флаги полей ввода</a>.</p>

</div>
<p style="clear:both; min-height:1em; padding:0px; margin: 0px;"></p><hr class="off" /><div class="bottomnav">
<div class="left">
<span class="button"><a href="rdsFORMCreate.htm" title="Предыдущий параграф" id="pgup_f">&lt;&lt;</a></span>
<span class="button"><a href="app_a_fields.htm" title="Следующий параграф" id="pgdn_f">&gt;&gt;</a></span>
<span class="divider"></span>
<span class="button"><a href="app_index.htm#light_htm:rdsFORMAddEdit">Оглавление</a></span>
<span class="button"><a href="alpha.htm">Указатель</a></span>
</div>
</div>
</body>
</html>
