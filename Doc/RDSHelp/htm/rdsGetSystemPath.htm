<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">
<head>
  <link rel="stylesheet" type="text/css" href="../css/main.css" />
  <link rel="stylesheet" type="text/css" href="../css/cpp.css" />
  <meta http-equiv="Content-Type" content="text/html;charset=windows-1251" />
  <script type="text/javascript" src="script.js"></script>
  <title>А.5.2.25. rdsGetSystemPath &ndash; получить системную строку</title>
</head><body onload="DocLoad()">
<div class="pageheader"><span class="off"><b>Текущий раздел:</b></span>
<div class="int"><p id="top"><a href="../index.htm">Описания RDS</a></p>
<div class="level"><p><a href="app_index.htm">Приложения</a></p>
<div class="level"><p><a href="app_index.htm#light_htm:app_a">Приложение А. Функции, константы и структуры RDS</a></p>
<div class="level"><p><a href="app_index.htm#light_htm:app_a_5">А.5. Сервисные функции RDS</a></p>
<div class="level"><p><a href="app_index.htm#light_htm:app_a_5_2">А.5.2. Управление работой RDS и функции общего назначения</a></p>
<div class="level"><p>А.5.2.25. <span class="cpp">rdsGetSystemPath</span> &ndash; получить системную строку</p>
</div>
</div>
</div>
</div>
</div>
</div></div>
<div class="topnav"><span class="off"><b>Навигация:</b></span>
<div class="left">
<span class="button"><a href="rdsGetSystemInt.htm" title="Предыдущий параграф" id="pgup">&lt;&lt;</a></span>
<span class="button"><a href="rdsIsValidVarName.htm" title="Следующий параграф" id="pgdn">&gt;&gt;</a></span>
<span class="divider"></span>
<span class="button"><a href="app_index.htm#light_htm:rdsGetSystemPath">Оглавление</a></span>
<span class="button"><a href="alpha.htm">Указатель</a></span>
</div>
</div>

<div class="text">
<h1 class="off">Приложения</h1>
<h2 class="off">Приложение А. Функции, константы и структуры RDS</h2>
<h3 class="off">А.5. Сервисные функции RDS</h3>
<h4 class="off">А.5.2. Управление работой RDS и функции общего назначения</h4>
<h5>А.5.2.25. <span class="cpp">rdsGetSystemPath</span> &ndash; получить системную строку</h5>


<p>Функция <span class="cpp">rdsGetSystemPath</span> возвращает указатель на одну из строк, описывающих общие параметры или параметры,
относящиеся к загруженной схеме в целом. Строки находятся во внутренней памяти RDS.</p>

<pre class="cpp">  <a class="hidden" href="app_ids.htm#light_ref20" title="Указатель на строку (char*)">LPSTR</a> <a class="hidden" href="app_ids.htm#light_ref24" title="Тип вызова сервисных функций">RDSCALL</a> rdsGetSystemPath(
      <span class="kw">int</span> ValueId    <span class="rem">// Запрашиваемая строка</span>
  );</pre>

<p class="apphdr">Тип указателя на эту функцию</p>
<p><span class="cpp">RDS_SI</span></p>

<p class="apphdr">Параметр</p>

<dl>
  <dt><span class="cpp">ValueId</span>&emsp;(<span class="cpp"><i>int</i></span>)</dt>
  <dd>
    <div class="tableleft"><div class="tcont">
      <table class="list">
        <tr>
          <td class="term"><span class="cpp"><span id="light_ref1">RDS_GSPAPPEXE</span></span></td>
          <td><span id="ref2">Полный</span> путь к исполняемому файлу RDS
          &laquo;<span class="file"><span id="light_ref2">rds.exe</span></span>&raquo;.</td>
        </tr>
        <tr>
          <td class="term"><span class="cpp"><span id="light_ref3">RDS_GSPAPPPATH</span></span></td>
          <td>Полный путь к папке, в которой находится исполняемый файл RDS
          &laquo;<span class="file">rds.exe</span>&raquo;. Отличается от <span class="cpp">RDS_GSPAPPEXE</span> отсутствием
          имени файла в конце пути.</td>
        </tr>
        <tr>
          <td class="term"><span class="cpp"><span id="light_ref4">RDS_GSPBAKFILEEXT</span></span></td>
          <td><span id="ref5">Расширение</span> файлов резервных копий схем
          (по умолчанию &ndash; &laquo;<span class="file"><span id="light_ref5">~rds</span></span>&raquo;, может
          изменяться пользователем в <a href="um_2_18.htm" title="&sect;2.18. Настройки RDS">настройках</a> RDS). Расширение
          возвращается без символа точки, отделяющей его от имени.</td>
        </tr>
        <tr>
          <td class="term"><span class="cpp"><span id="light_ref6">RDS_GSPBLOCKLIBPATH</span></span></td>
          <td><span id="ref7">Полный</span>
          <span id="ref8">путь</span> к
          <span id="light_ref7">библиотеке блоков</span> (по умолчанию
          &ndash; папка &laquo;<span class="file"><span id="light_ref8">Library\</span></span>&raquo; внутри папки
          RDS).</td>
        </tr>
        <tr>
          <td class="term"><span class="cpp"><span id="light_ref9">RDS_GSPBLOCKPANELPATH</span></span></td>
          <td><span id="ref10">Полный</span>
          <span id="ref11">путь</span> к <span id="light_ref10">панели блоков</span>
          (по умолчанию &ndash; папка &laquo;<span class="file"><span id="light_ref11">Panel\</span></span>&raquo;
          внутри папки RDS).</td>
        </tr>
        <tr>
          <td class="term"><span class="cpp"><span id="light_ref12">RDS_GSPDEFAULTHOST</span></span></td>
          <td>Установленное в <a href="um_2_18.htm#pic7" title="Окно настроек: вкладка сеть &ndash; TCP">сетевых настройках</a> RDS имя сервера по
          умолчанию (см. <a href="app_index.htm#light_htm:app_a_5_20" title="А.5.20. Сетевые функции">приложение А.5.20</a>).</td>
        </tr>
        <tr>
          <td class="term"><span class="cpp"><span id="light_ref13">RDS_GSPDLLPATH</span></span></td>
          <td><span id="ref14">Полный</span>
          <span id="ref15">путь</span> к <span id="light_ref14">папке стандартных DLL</span> (по умолчанию
          &ndash; папка &laquo;<span class="file"><span id="light_ref15">Dll\</span></span>&raquo; внутри папки RDS).</td>
        </tr>
        <tr>
          <td class="term"><span class="cpp"><span id="light_ref16">RDS_GSPINCLUDEPATH</span></span></td>
          <td><span id="ref17">Полный</span>
          <span id="ref18">путь</span> к <span id="light_ref17">папке файлов-заголовков</span>
          (по умолчанию &ndash; папка &laquo;<span class="file"><span id="light_ref18">Include\</span></span>&raquo;
          внутри папки RDS).</td>
        </tr>
        <tr>
          <td class="term"><span class="cpp"><span id="light_ref19">RDS_GSPINIPATH</span></span></td>
          <td><span id="ref20">Полный</span> путь к
          <span id="light_ref20">папке настроек</span> (INI-файлов, по умолчанию совпадает с основной папкой
          RDS, в которой находится исполняемый файл &laquo;<span class="file">rds.exe</span>&raquo;).</td>
        </tr>
        <tr>
          <td class="term"><span class="cpp"><span id="light_ref21">RDS_GSPMODELSPATH</span></span></td>
          <td><span id="ref22">Полный</span>
          <span id="ref23">путь</span> к <span id="light_ref22">папке стандартных автокомпилируемых
          моделей</span> (по умолчанию &ndash; папка &laquo;<span class="file"><span id="light_ref23">Models\</span></span>&raquo;
          внутри папки RDS).</td>
        </tr>
        <tr>
          <td class="term"><span class="cpp"><span id="light_ref24">RDS_GSPSYSTEMFILE</span></span></td>
          <td>Полный путь к файлу загруженной в данный момент схемы. Если создана новая схема, вместо полного
          пути возвращается только имя файла (без пути, обычно &laquo;<span class="file">Untitled.rds</span>&raquo;). При этом после
          первого же ее сохранения будет возвращаться полный путь к файлу, в который эта новая схема сохранена.</td>
        </tr>
        <tr>
          <td class="term"><span class="cpp"><span id="light_ref25">RDS_GSPSYSTEMFULLPATH</span></span></td>
          <td>Полный путь к файлу загруженной в данный момент схемы. Если схема только что создана и еще не сохранялась,
          возвращается пустая строка (этим <span class="cpp">RDS_GSPSYSTEMFULLPATH</span> отличается от
          <span class="cpp">RDS_GSPSYSTEMFILE</span>).</td>
        </tr>
        <tr>
          <td class="term"><span class="cpp"><span id="light_ref26">RDS_GSPTEMPLATEPATH</span></span></td>
          <td><span id="ref27">Полный</span>
          <span id="ref28">путь</span> к <span id="light_ref27">папке шаблонов</span> схем (по умолчанию
          &ndash; папка &laquo;<span class="file"><span id="light_ref28">Template\</span></span>&raquo; внутри папки RDS).</td>
        </tr>
        <tr>
          <td class="term"><span class="cpp"><span id="light_ref29">RDS_GSPTEMPPATH</span></span></td>
          <td><span id="ref30">Полный</span>
          <span id="ref31">путь</span> к <span id="light_ref30">собственной временной папке</span> RDS
          (по умолчанию &ndash; папка &laquo;<span class="file"><span id="light_ref31">Temp\</span></span>&raquo; внутри
          папки RDS).</td>
        </tr>
      </table>
    </div></div>
  </dd>
</dl>

<p class="apphdr">Возвращаемое значение</p>
<p>Указатель на запрошенную строку во внутренней памяти RDS. Вызвавшая функция модели не должна как-либо
изменять эту строку. Если параметру <span class="cpp">ValueId</span> не соответствует никакая из системных строк
(он не равен одной из констант <span class="cpp">RDS_GSP*</span>), возвращается указатель на пустую строку.
Таким образом, эта функция всегда возвращает указатель на какую-либо существующую строку.</p>

<p class="apphdr">Примечания</p>
<p>Большинство возвращаемых функцией <span class="cpp">rdsGetSystemPath</span> строк связаны с путями к
различным папкам RDS, отсюда и название функции. Разработчику модели блока или модуля автокомпиляции не
следует полагаться на то, что в копии RDS, установленной на машине пользователя, все пути будут стандартными.
Например, если в модуле автокомпиляции требуется получить путь к файлам заголовков для включения их в
формируемый текст модели блока на языке C, будет ошибкой получить путь к папке установки RDS вызовом
<span class="cpp">rdsGetSystemPath(RDS_GSPAPPPATH)</span> и добавить к нему строку &laquo;Include\&raquo;.
Размещение некоторых папок может быть изменено в настройках или специальными параметрами командной строки
RDS, поэтому для получения пути к файлам заголовков следует использовать вызов
<span class="cpp">rdsGetSystemPath(RDS_GSPINCLUDEPATH)</span> &ndash; он всегда возвращает путь, указанный в
текущих настройках.</p>

<p class="apphdr">Пример</p>
<p>Пример использования функции <span class="cpp">rdsGetSystemPath</span> приведен
в <a href="pm_4_4.htm" title="&sect;4.4. Компиляция моделей">&sect;4.4 руководства программиста</a>.</p>

<p class="apphdr">См. также</p>
<p class="seealso"><span class="cpp"><a href="rdsGetSystemInt.htm" title="А.5.2.24. rdsGetSystemInt &ndash; получить целый системный параметр">rdsGetSystemInt</a></span>.</p>

</div>
<p style="clear:both; min-height:1em; padding:0px; margin: 0px;"></p><hr class="off" /><div class="bottomnav">
<div class="left">
<span class="button"><a href="rdsGetSystemInt.htm" title="Предыдущий параграф" id="pgup_f">&lt;&lt;</a></span>
<span class="button"><a href="rdsIsValidVarName.htm" title="Следующий параграф" id="pgdn_f">&gt;&gt;</a></span>
<span class="divider"></span>
<span class="button"><a href="app_index.htm#light_htm:rdsGetSystemPath">Оглавление</a></span>
<span class="button"><a href="alpha.htm">Указатель</a></span>
</div>
</div>
</body>
</html>
