<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">
<head>
  <link rel="stylesheet" type="text/css" href="../css/main.css" />
  <link rel="stylesheet" type="text/css" href="../css/cpp.css" />
  <meta http-equiv="Content-Type" content="text/html;charset=windows-1251" />
  <script type="text/javascript" src="script.js"></script>
  <title>&sect;2.12.2. Использование классов</title>
</head><body onload="DocLoad()">
<div class="pageheader"><span class="off"><b>Текущий раздел:</b></span>
<div class="int"><p id="top"><a href="../index.htm">Описания RDS</a></p>
<div class="level"><p><a href="um_index.htm">Описание пользователя</a></p>
<div class="level"><p><a href="um_index.htm#light_htm:um_2">Глава 2. Интерфейс пользователя</a></p>
<div class="level"><p><a href="um_index.htm#light_htm:um_2_12gen">&sect;2.12. Выборочное отображение блоков и связей</a></p>
<div class="level"><p>&sect;2.12.2. Использование классов</p>
</div>
</div>
</div>
</div>
</div></div>
<div class="topnav"><span class="off"><b>Навигация:</b></span>
<div class="left">
<span class="button"><a href="um_2_12.htm" title="Предыдущий параграф" id="pgup">&lt;&lt;</a></span>
<span class="button"><a href="um_2_13.htm" title="Следующий параграф" id="pgdn">&gt;&gt;</a></span>
<span class="divider"></span>
<span class="button"><a href="um_index.htm#light_htm:um_2_12a">Оглавление</a></span>
<span class="button"><a href="alpha.htm">Указатель</a></span>
</div>
</div>

<div class="text">
<h1 class="off">Описание пользователя</h1>
<h2 class="off">Глава 2. Интерфейс пользователя</h2>
<h3 class="off">&sect;2.12. Выборочное отображение блоков и связей</h3>
<h4>&sect;2.12.2. Использование классов</h4>
<p class="abstract">Описывается отнесение блоков, связей и шин к созданным пользователем классам и использование этих классов для выборочного отображения объектов.</p>


<p>Для того, чтобы управлять видимостью групп блоков и связей в
<a href="um_1_2.htm#light_ref10" title="Подсистема">подсистеме</a>,
можно разместить каждую группу блоков на
отдельном <a href="um_2_12.htm" title="&sect;2.12.1. Использование слоев">слое</a> и независимо включать или выключать
отображение этих слоев. Однако, здесь можно столкнуться со следующей трудностью: блок
или связь может принадлежать только к одному слою. Поэтому, если связь соединяет блоки,
принадлежащие к двум разным слоям, отключение видимости одного из этих слоев приведет к тому,
что один из концов связи &laquo;повиснет в воздухе&raquo;. Часто это не принципиально, но
в некоторых случаях это ухудшает читаемость схемы.</p>

<p>Если, например, в подсистеме находится большое число блоков, выполняющих какие-либо сложные
вычисления, и не менее сложная логическая схема, в зависимости от внешних условий подключающая и
отключающая различные ветви вычислительной схемы, можно для улучшения читаемости схемы разместить
логические блоки и соединяющие их связи на одном слое, вычислительные блоки с их связями &ndash;
на другом, и работать с этими слоями по отдельности, выключая видимость ненужного в данный момент
слоя. Однако, если отключить видимость слоя с вычислительными блоками, то связи, идущие от
логических блоков к блокам-переключателям, управляющим передачей сигналов в вычислительной части,
будут оканчиваться в пустоте, и будет непонятно, чем эти связи управляют. Если же поместить
блоки-переключатели на один слой с логическими блоками, при работе со слоем вычислительных блоков
при отключенном слое логических в схеме появятся разрывы, и в пустоте будут оканчиваться уже
связи на слое вычислительных блоков.</p>

<p>Технически, проблему можно решить, добавив с схему еще один слой для блоков-переключателей,
и оставлять его включенным при работе и с логической, и с вычислительной частями схемы. Но
в более сложных случаях число таких вспомогательных слоев начинает быстро расти. При двух видах блоков
(логические и вычислительные) понадобился один вспомогательный слой для блоков, которые соединены и
с теми, и с другими. Если бы типов блоков стало три, например, добавились бы еще интерфейсные блоки,
потребовалось бы еще два вспомогательных слоя: для блоков, соединенных и с логическими, и
с интерфейсными, и для блоков, соединенных и с вычислительными, и интерфейсными. При большом
количестве слоев управлять ими становится неудобно.</p>

<p>По этой причине для управления видимостью объектов в схеме кроме слоев используются еще и
<span class="term">классы</span>: создаваемые пользователем множества с произвольными
именами, к которым можно относить блоки, связи и шины, причем один объект может принадлежать к
нескольким классам одновременно, а также не принадлежать ни к одному классу. В описанном выше примере
с вычислительными и логическими блоками достаточно будет создать два класса с именами
&laquo;вычислительные&raquo; и &laquo;логические&raquo;: вычислительные блоки будут относиться
к классу &laquo;вычислительные&raquo;, логические блоки &ndash; к классу
&laquo;логические&raquo;, а блоки-переключатели &ndash; к обоим классам одновременно. Тогда
при отключении отображения класса &laquo;вычислительные&raquo; видимыми останутся и логические
блоки, и переключатели, а при отключении отображения класса &laquo;логические&raquo; будут
видимы и вычислительные блоки, и переключатели. Добавление интерфейсных блоков потребует
добавления всего одного класса: &laquo;интерфейсные&raquo;. Блоки, соединенные и
с интерфейсными, и с блоками других видов, нужно будет просто добавить в этот класс, чтобы
они тоже оставались видимыми, если включено отображение класса &laquo;интерфейсные&raquo;.</p>

<p>Работа с классами в чем-то похожа на работу со слоями, но между классами и слоями есть
следующие принципиальные отличия:</p>

<ul>
  <li>набор слоев индивидуален для каждой подсистемы, а набор классов &ndash; общий для всей схемы
  (при этом видимость отдельных классов задается независимо для каждой подсистемы);</li>

  <li>каждый блок, каждая связь или шина должны находиться на одном и только одном слое,
  но могут принадлежать к нескольким классам одновременно или не принадлежать
  ни к одному классу;</li>

  <li>слои определяют и видимость объектов, и их взаимное расположение относительно переднего плана,
  а классы могут использоваться только для управления видимостью.</li>
</ul>

<p class="noindent">В только что созданной схеме список классов будет пустым и,
если нет необходимости в сложном управлении видимостью объектов, можно его таким и оставить. Для
редактирования этого списка следует
в <a href="um_1_3.htm#ref1" title="Режим редактирования">режиме редактирования</a> выбрать пункт
<a href="um_2_1.htm" title="&sect;2.1. Главное окно и главное меню">главного меню</a> &laquo;<span class="menu">классы блоков и связей</span>&raquo;. При
этом откроется окно, изображенное на
<a href="#pic1" title="Окно списка классов схемы">рис.&nbsp;224</a>.</p>

<div class="pic"><div class="container" id="pic1">
<img src="../img/ClassesList.png" width="415" height="304" alt="Окно списка классов схемы" />
<p id="light_pic1">Рис.&nbsp;224. Окно списка классов схемы</p>
</div></div>


<p>Большую часть окна занимает список, в котором отображаются имена уже имеющихся в схеме
классов. Если к классу принадлежит хотя бы один объект в схеме, после имени в скобках
будет выведено слово &laquo;используется&raquo;. Справа от списка
располагаются кнопки управления:</p>

<div class="tablecenter"><div class="tcont">
<table>
  <tr>
    <th>Кнопка</th>
    <th>Действие</th>
  </tr>
  <tr>
    <td class="center"><img class="btn" src="../img/Button_ArrowUp.png" width="25" height="25" alt="Кнопка: вверх" /></td>
    <td>Переместить выбранный класс на одну позицию вверх в списке.</td>
  </tr>
  <tr>
    <td class="center"><img class="btn" src="../img/Button_ArrowDown.png" width="25" height="25" alt="Кнопка: вниз" /></td>
    <td>Переместить выбранный класс на одну позицию вниз в списке.</td>
  </tr>
  <tr>
    <td class="center"><img class="btn" src="../img/Button_ab_.png" width="25" height="25" alt="Кнопка: ab" /></td>
    <td>Изменить имя выбранного класса.</td>
  </tr>
  <tr>
    <td class="center"><img class="btn" src="../img/Button_MergeLayers.png" width="25" height="25" alt="Кнопка: объединить" /></td>
    <td>Объединить выбранные классы в один (в списке должно быть выбрано несколько классов, см. ниже).</td>
  </tr>
  <tr>
    <td class="center"><img class="btn" src="../img/Button_Plus.png" width="25" height="25" alt="Кнопка: плюс" /></td>
    <td>Добавить новый класс (имя классу дается автоматически, после создания его можно переименовать).</td>
  </tr>
  <tr>
    <td class="center"><img class="btn" src="../img/Button_Delete.png" width="25" height="25" alt="Кнопка: удалить" /></td>
    <td>Удалить выбранный класс (или выбранные классы, если в списке выбрано несколько).</td>
  </tr>
</table>
</div></div>

<p>Для объединения нескольких классов в один в списке должно быть одновременно выделено несколько
классов. Чтобы выделить несколько классов, следует щелкнуть левой кнопкой мыши на названии
первого из выделяемых классов, а затем, удерживая клавишу <span class="keys">Ctrl</span>,
поочередно щелкать на других классах, которые требуется добавить к выделенным (первый
щелчок добавляет класс к выделенным, второй &ndash; снимает с него выделение). После выделения
нескольких классов кнопка объединения станет активной. Ее нажатие приведет к тому,
что объединяемые классы будут удалены, и будет создан новый класс, имя которого состоит из имен
объединяемых классов, перечисленных через запятую. При нажатии кнопки &laquo;<span class="menu">OK</span>&raquo; в
окне списка классов в этот новый класс будут добавлены все объекты, ранее принадлежавшие к
объединенным классам.</p>

<p>Порядок классов в списке, задаваемый двумя верхними кнопками, влияет только на то,
в каком порядке их имена будут перечисляться в окнах, в которых блоки, связи и шины включаются в
разные классы и выбирается видимость классов в подсистеме.</p>

<p>При нажатии кнопки &laquo;<span class="menu">OK</span>&raquo; отредактированный список классов записывается в схему
и выполняются все операции по фактическому объединению и удалению классов в объектах схемы.
Если в <a href="um_2_18.htm" title="&sect;2.18. Настройки RDS">настройках</a>
RDS разрешена отмена действий пользователя, эти изменения можно отменить нажатием
<span class="keys">Ctrl</span>&nbsp;+&nbsp;<span class="keys">Z</span>. Нажатие кнопки &laquo;<span class="menu">отмена</span>&raquo; закрывает окно
без внесения изменений.</p>

<p>Принадлежность к классам конкретных блоков, связей и шин задается в окнах их параметров
(см.
<a href="um_2_9_1.htm#ref25" title="Задание классов блока">&sect;2.9.1</a>,
<a href="um_2_7_2.htm#ref7" title="Задание классов связи">&sect;2.7.2</a> и
<a href="um_2_8.htm#ref2" title="Окно параметров шины">&sect;2.8</a>).
Также классы могут присваиваться объектам при помощи функции
<a href="um_2_15_3.htm#ref15" title="Задание классов в групповой установке">групповой установки параметров</a>.</p>

<div class="picright"><div class="container" id="pic2">
<img src="../img/LayerEditor_Classes.png" width="270" height="330" alt="Вкладка классов в редакторе слоев" />
<p id="light_pic2">Рис.&nbsp;225. Вкладка классов<br />в редакторе слоев</p>
</div></div>


<p>Несмотря на то, что список классов является общим для всей схемы, параметры отображения классов,
как и параметры слоев, относятся к конкретной
<a href="um_2_12.htm#ref1" title="Конфигурации слоев">конфигурации</a> конкретной подсистемы. В подсистеме может быть
несколько конфигураций, в каждой из которых видимость классов будет настроена по-своему,
и пользователь может быстро переключаться между этими конфигурациями, выбирая нужный ему в данный
момент вид блоков и связей в подсистеме. Если в схеме создан хотя бы один класс, в
<a href="um_2_12.htm#light_ref2" title="Окно редактора слоев">окне редактора слоев</a> появляется дополнительная
<span id="ref1">вкладка &laquo;<span class="menu">классы</span>&raquo;</span>
(<a href="#pic2" title="Вкладка классов в редакторе слоев">рис.&nbsp;225</a>), на которой задается видимость
отдельных классов, а также назначаются текущие классы, то есть классы, автоматически присваиваемые
новым, создаваемым в подсистеме, объектам. В целом эта вкладка похожа на вкладку
&laquo;<span class="menu">слои</span>&raquo;. В ее верхней части располагается выпадающий список, для
выбора текущей конфигурации слоев
(на <a href="#pic2" title="Вкладка классов в редакторе слоев">рис.&nbsp;225</a> &ndash; конфигурация с именем
&laquo;Основная&raquo;). Ниже находится список классов выбранной конфигурации с
двумя дополнительными пунктами: &laquo;все классы&raquo; и &laquo;без классов&raquo;.</p>

<p>Левая, самая широкая, колонка списка содержит название класса или одного из двух
специальных пунктов, во второй колонке отображается признак видимости объектов данного класса в
выбранной конфигурации (изображение глаза), а галочки в третьей колонке отмечают текущие классы,
которые будут присваиваться новым объектам в подсистеме. Щелчки мышью в колонках видимости и
текущего класса включают и выключают соответствующие признаки.</p>

<p>Специальный пункт &laquo;все классы&raquo; позволяет включить видимость всех классов или
сделать все классы текущими. Если для этого пункта включен признак видимости, в данной
конфигурации данной подсистемы будут видимы все объекты, независимо от их принадлежности к
классам (при этом видимость объектов по слоям, заданная на вкладке &laquo;<span class="menu">слои</span>&raquo;, продолжает
работать, то есть объекты на невидимых слоях отображаться все равно не будут). При добавлении
в схему новых классов объекты, относящиеся к ним, тоже будут становиться видимыми. Этим
включение видимости пункта &laquo;все классы&raquo; отличается от индивидуального включения видимости
всех классов в пунктах ниже: если включить видимость у всех имеющихся в данный момент классов
по отдельности, а потом добавить в схему новый класс, объекты этого нового класса отображаться в подсистеме
не будут. Если же включена видимость пункта &laquo;все классы&raquo;, объекты нового класса
станут видимыми сразу после добавления класса. Установка признака текущего класса для пункта
&laquo;все классы&raquo; будет присваивать всем добавляемым в схему объектам все существующие на
момент добавления классы.</p>

<p>Специальный пункт &laquo;без классов&raquo; управляет видимостью объектов, не
принадлежащих ни к одному классу. Для него тоже можно установить признак текущего класса
(при этом все остальные галочки в колонке текущего класса выключатся). В этом случае всем
добавляемым в подсистему объектам не будут автоматически присваиваться какие-либо
классы.</p>

<p>Справа от списка находятся кнопки управления:</p>

<div class="tablecenter"><div class="tcont">
<table>
  <tr>
    <th>Кнопка</th>
    <th>Действие</th>
  </tr>
  <tr>
    <td class="center"><img class="btn" src="../img/Button_AllClasses.png" width="25" height="25" alt="Кнопка: все видимые" /></td>
    <td>Включить видимость всех классов (нажатие этой кнопки аналогично включению видимости у пункта
    &laquo;все классы&raquo;).</td>
  </tr>
  <tr>
    <td class="center"><img class="btn" src="../img/Button_NoClasses.png" width="25" height="25" alt="Кнопка: все невидимые" /></td>
    <td>Выключить видимость всех классов и объектов без классов.</td>
  </tr>
  <tr>
    <td class="center"><img class="btn" src="../img/Button_DotDotDot.png" width="25" height="25" alt="Кнопка: многоточие" /></td>
    <td>Открыть <a href="#pic1" title="Окно списка классов схемы">окно редактирования классов</a>.</td>
  </tr>
</table>
</div></div>

<p>В нижней части вкладки &laquo;<span class="menu">классы</span>&raquo;, как и на вкладке &laquo;<span class="menu">слои</span>&raquo;, находится флажок
&laquo;<span class="menu">запоминать состояние</span>&raquo;. Если он включен, все изменения в видимости классов
данной конфигурации будут считаться постоянными и сохранятся при переключении конфигураций.
Если флажок выключен, все изменения будут считаться временными и будут действовать только до тех
пор, пока данная конфигурация включена.</p>

</div>
<p style="clear:both; min-height:1em; padding:0px; margin: 0px;"></p><hr class="off" /><div class="bottomnav">
<div class="left">
<span class="button"><a href="um_2_12.htm" title="Предыдущий параграф" id="pgup_f">&lt;&lt;</a></span>
<span class="button"><a href="um_2_13.htm" title="Следующий параграф" id="pgdn_f">&gt;&gt;</a></span>
<span class="divider"></span>
<span class="button"><a href="um_index.htm#light_htm:um_2_12a">Оглавление</a></span>
<span class="button"><a href="alpha.htm">Указатель</a></span>
</div>
</div>
</body>
</html>
