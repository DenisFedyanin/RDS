<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">
<head>
  <link rel="stylesheet" type="text/css" href="../css/main.css" />
  <link rel="stylesheet" type="text/css" href="../css/cpp.css" />
  <meta http-equiv="Content-Type" content="text/html;charset=windows-1251" />
  <script type="text/javascript" src="script.js"></script>
  <title>&sect;2.17. Просмотр информации о загруженной схеме</title>
</head><body onload="DocLoad()">
<div class="pageheader"><span class="off"><b>Текущий раздел:</b></span>
<div class="int"><p id="top"><a href="../index.htm">Описания RDS</a></p>
<div class="level"><p><a href="um_index.htm">Описание пользователя</a></p>
<div class="level"><p><a href="um_index.htm#light_htm:um_2">Глава 2. Интерфейс пользователя</a></p>
<div class="level"><p>&sect;2.17. Просмотр информации о загруженной схеме</p>
</div>
</div>
</div>
</div></div>
<div class="topnav"><span class="off"><b>Навигация:</b></span>
<div class="left">
<span class="button"><a href="um_2_16_4.htm" title="Предыдущий параграф" id="pgup">&lt;&lt;</a></span>
<span class="button"><a href="um_2_18.htm" title="Следующий параграф" id="pgdn">&gt;&gt;</a></span>
<span class="divider"></span>
<span class="button"><a href="um_index.htm#light_htm:um_2_17">Оглавление</a></span>
<span class="button"><a href="alpha.htm">Указатель</a></span>
</div>
</div>

<div class="text">
<h1 class="off">Описание пользователя</h1>
<h2 class="off">Глава 2. Интерфейс пользователя</h2>
<h3>&sect;2.17. Просмотр информации о загруженной схеме</h3>
<p class="abstract">Описывается окно информации о схеме, в котором можно увидеть общее число блоков, список используемых в схеме функций и библиотек и т.п.</p>


<p>Вызвав пункт
<a href="um_2_1.htm" title="&sect;2.1. Главное окно и главное меню">главного меню</a>
&laquo;<span class="menu">система | информация</span>&raquo;,
можно узнать, сколько блоков в загруженной в данный момент схеме, какие DLL необходимы
для ее работы, использует ли она какие-либо
<a href="um_1_8.htm" title="&sect;1.8. Автоматическая компиляция моделей блоков">автоматически компилируемые модели</a>
и т.п. При этом открывается окно с несколькими
вкладками, содержащими различную информацию о схеме и, в некоторых случаях,
позволяющими быстро перейти к тому или иному блоку.</p>

<p>Первая вкладка окна информации, &laquo;<span class="menu">общие</span>&raquo;
(<a href="#pic1" title="Информация о схеме: вкладка общие">рис.&nbsp;269</a>),
показывает число объектов, из которых состоит схема, и скорость работы этой схемы.
На панели &laquo;<span class="menu">в системе</span>&raquo; отображается общее число
<a href="um_1_2.htm" title="&sect;1.2. Блоки и связи в RDS, их типы и основные параметры">блоков</a>,
<a href="um_2_7_1.htm" title="&sect;2.7.1. Общие принципы создания связей">связей</a> и
<a href="um_2_8.htm" title="&sect;2.8. Использование шин">шин</a>
в схеме, а также число блоков по
<a href="um_1_2.htm#ref8" title="Типы блоков в RDS">типам</a>.
<a href="um_1_2.htm#ref11" title="Корневая подсистема">Корневая подсистема</a>
схемы тоже входит в общее число блоков, поэтому даже в только что созданной пустой
схеме всегда будет одна подсистема &ndash; корневая.</p>

<div class="pic"><div class="container" id="pic1">
<img src="../img/SysInfo_General.png" width="519" height="377" alt="Информация о схеме: вкладка общие" />
<p id="light_pic1">Рис.&nbsp;269. Информация о схеме: вкладка &laquo;<span class="menu">общие</span>&raquo;</p>
</div></div>


<p>На панели &laquo;<span class="menu">расчет</span>&raquo; отображается статистика, собранная при
последнем <a href="um_1_3.htm#ref3" title="Режим расчета">запуске расчета</a>
(если после загрузки схемы расчет еще ни разу не запускался, панель будет пустой).
Средняя скорость расчета указывается в тактах в секунду и вычисляется как число
выполненных в последнем расчете тактов, деленное на время выполнения этого расчета.
Этот показатель отражает общую скорость системы, но только в том случае, если расчет
по каким-либо причинам не переходил в режим ожидания.
<span id="ref1">Если</span>, например, в схеме есть
<span id="light_ref1">блок-планировщик</span>, и в его параметрах включена
синхронизация с реальным временем, этот блок будет время от времени
приостанавливать расчет, чтобы он не обгонял системные часы, то есть чтобы секунда
моделируемого времени примерно соответствовала секунде реального. При этом за
секунду реального времени будет выполнено меньше тактов расчета, чем могло бы быть,
работай система с полной нагрузкой. Таким образом, при моделировании каких-либо
процессов оценить скорость работы схемы можно только отключив в ней синхронизацию с
реальным временем. Допустим, в схеме находится стандартный блок-планировщик, в
параметрах которого установлен шаг в 0.1 секунды и четыре дополнительных такта на шаг.
В этом случае на один шаг расчета будет приходиться пять тактов, значит, в секунду
должно быть выполнено не менее пятидесяти тактов (десять шагов в секунду по пять тактов
каждый). Если при отключенной в планировщике синхронизации с реальным временем скорость
расчета упадет ниже пятидесяти тактов в секунду, это будет говорить о том, что
скорости работы системы не хватит для моделирования данного процесса в реальном
времени.</p>

<p>Затраты времени на обновление окон указываются в процентах от общего времени
расчета. Это время, которое тратится исключительно на перерисовку
<a href="um_2_3.htm" title="&sect;2.3. Элементы и меню окна подсистемы">окон подсистем</a> и дополнительных окон,
открытых блоками &ndash; расчет все это время вынужден простаивать. Если схема не
успевает за реальным временем и этот показатель больше 50%, имеет смысл понизить частоту
обновления окон подсистем, закрыть лишние окна или включить в
<a href="um_2_18.htm#pic5" title="Окно настроек: вкладка обновление окон">настройках RDS</a>
автоподстройку частоты обновления (по умолчанию она включена).</p>

<p>Загруженность потока расчета показывает, какой процент времени расчета заняло
собственно выполнение его тактов. Если схема моделирует что-либо в реальном
времени, приближение этого показателя к 100% будет указывать либо на отсутствие
резервов быстродействия системы, либо на то, то какие-то блоки схемы зря
расходуют процессорное время, работая постоянно и не давая процессу расчета
войти в режим ожидания. Если синхронизация с реальным временем или какими-либо
внешними событиями в схеме не используется, этот показатель всегда будет равен
100%, поскольку расчет при этом будет работать с максимально возможной
скоростью.</p>

<p>В нижней части панели &laquo;<span class="menu">расчет</span>&raquo; может выводиться предупреждающее
сообщение, указывающее либо на то, что
в <a href="um_2_18.htm#pic6" title="Окно настроек: вкладка совместимость и быстродействие">настройках RDS</a>
запрещен переход потока расчета в режим ожидания, либо на то, что в схеме есть
блоки, для которых
<a href="um_2_9_1.htm#light_ref8" title="Установка режима запуска блока">установлен запуск каждый такт</a>. В первом случае
расчет будет зря тратить процессорное время, выполняя такты даже в том случае,
если состояние блоков не изменялось, и ни один их них давно уже не срабатывал
&ndash; в нормальном режиме RDS при таких условиях переводит расчет в режим
ожидания, выводя его оттуда при наступлении любого внешнего события (например,
при действиях пользователя) или при срабатывании таймеров, с помощью которых блоки
следят за реальным временем. Во втором случае блоки, запускающиеся каждый такт,
тоже, как правило, зря тратят процессорное время, поскольку при правильном
написании модели блока этот блок должен реагировать на какое-либо событие:
срабатывание входной связи, наступление определенного момента времени,
действие пользователя и т.п., а не принудительно запускаться в каждом такте.
Появление одного из этих сообщений указывает на то, что скорость работы системы
можно повысить, изменив настройки RDS или усовершенствовав модели
некоторых блоков.</p>

<p><span id="light_ref2">На вкладке &laquo;<span class="menu">используемые DLL</span>&raquo; окна информации </span>
(<a href="#pic2" title="Информация о схеме: вкладка используемые DLL">рис.&nbsp;270</a>)
выводится список всех динамически подключаемых библиотек (DLL),
необходимых данной схеме для работы. В этих библиотеках находятся
<a href="um_1_2.htm#ref3" title="Модель блока">модели блоков</a>
(программы, обеспечивающие реакции блоков на все события), а также модули
<a href="um_1_8.htm" title="&sect;1.8. Автоматическая компиляция моделей блоков">автоматической компиляции</a>
таких моделей (см.
<a href="um_2_19_1.htm" title="&sect;2.19.1. Подключение модулей автоматической компиляции моделей блоков">&sect;2.19.1</a> и <a href="um_index.htm#light_htm:um_3" title="Глава 3. Использование стандартных модулей автокомпиляции">главу 3</a>).
Для каждой библиотеки выводится имя ее файла, версия и дата создания, если
библиотека предоставляет RDS эту информацию, а также общее число ссылок
на эту библиотеку из различных блоков схемы. Рядом с именем библиотеки
отображается значок шестеренки желтого цвета, если все функции этой библиотеки
удалось подключить, или красного, если файл библиотеки отсутствует (в этом
случае вместо версии библиотеки будет выведен текст &laquo;файл не найден&raquo;)
или если какой-то блок ссылается на функцию, отсутствующую в этой библиотеке.</p>

<div class="pic"><div class="container" id="pic2">
<img src="../img/SysInfo_DLL.png" width="519" height="377" alt="Информация о схеме: вкладка используемые DLL" />
<p id="light_pic2">Рис.&nbsp;270. Информация о схеме: вкладка &laquo;<span class="menu">используемые DLL</span>&raquo;</p>
</div></div>


<p>Пути к файлам DLL в списке не всегда выводятся полностью. Если библиотека
находится в одной из стандартных папок RDS, путь к этой папке будет заменен на ее
<a href="rdsGetFullFilePath.htm#ref1" title="Символические обозначения стандартных путей">стандартное символическое обозначение</a>.
<span id="ref3">Например</span>, путь к
стандартной папке DLL RDS заменяется на обозначение
&laquo;<span id="light_ref3">$DLL$</span>&raquo;: запись
&laquo;<span class="file">$DLL$\Common.dll</span>&raquo; указывает на библиотеку
&laquo;<span class="file">Common.dll</span>&raquo;, находящуюся в стандартной папке DLL. Если имя библиотеки
указано без пути, она находится в одной папке с файлом загруженной схемы (это обычная
практика для автоматически компилируемых моделей).</p>

<p>Пункты списка, соответствующие библиотекам, могут разворачиваться нажатием на значок
со знаком &laquo;+&raquo;, при этом под именем библиотеки выводятся все функции
этой библиотеки, на которые ссылаются блоки загруженной схемы, с указанием числа ссылок
на эту функцию, и типа функции (модель блока или модуль автоматической компиляции).
Если функция, на которую ссылается блок, отсутствует в библиотеке, рядом с ее
названием будет изображен красный квадрат.</p>

<p>В нижней части вкладки находится кнопка &laquo;<span class="menu">блоки</span>&raquo;, которая показывает
(по второму нажатию &ndash; скрывает) дополнительную панель со списком блоков.
Если выделить в основном списке какую-либо библиотеку или функцию, на этой панели
будет показан список
<a href="um_1_2.htm#ref19" title="Полное имя блока">полных имен блоков</a>, использующих эту библиотеку
или эту конкретную ее функцию
(<a href="#pic3" title="Информация о схеме: вкладка используемые DLL с открытым списком блоков">рис.&nbsp;271</a>).
Если либо дважды щелкнуть на имени блока в этом списке, либо выделить его
одиночным щелчком и нажать кнопку со стрелкой справа над списком блоков, откроется
окно подсистемы, содержащей этот блок, и полосы прокрутки окна подсистемы будут
автоматически установлены так, чтобы блок был виден. Если включен режим
редактирования, найденный блок будет еще и выделен. Окно информации при этом не
будет закрыто и останется на переднем плане. Таким образом, найти блок,
использующий какую-либо функцию модели, можно не только с помощью
<a href="um_2_15_2.htm" title="&sect;2.15.2. Поиск блоков">функции поиска</a>, но и через окно
информации, хотя, конечно, возможности функции поиска гораздо шире.</p>

<div class="pic"><div class="container" id="pic3">
<img src="../img/SysInfo_DLL_blocks.png" width="519" height="377" alt="Информация о схеме: вкладка используемые DLL с открытым списком блоков" />
<p id="light_pic3">Рис.&nbsp;271. Информация о схеме: вкладка &laquo;<span class="menu">используемые DLL</span>&raquo; с открытым списком блоков</p>
</div></div>


<p><span id="light_ref4">На вкладке &laquo;<span class="menu">блоки</span>&raquo; окна информации</span>
отображается иерархическая структура
всех блоков в загруженной схеме
(<a href="#pic4" title="Информация о схеме: вкладка блоки">рис.&nbsp;272</a>).</p>

<div class="pic"><div class="container" id="pic4">
<img src="../img/SysInfo_Blocks.png" width="519" height="377" alt="Информация о схеме: вкладка блоки" />
<p id="light_pic4">Рис.&nbsp;272. Информация о схеме: вкладка &laquo;<span class="menu">блоки</span>&raquo;</p>
</div></div>


<p>Подсистемы в этом списке можно раскрывать нажатием на значок со знаком
&laquo;+&raquo;, при этом имена всех вложенных блоков выводятся под именем
подсистемы с отступом и линиями, показывающими принадлежность этих блоков подсистеме.
В списке выводятся имена блоков и дополнительная информация, зависящая от типа
блока, а сам тип блока указывается одним из следующих значков слева от имени:</p>

<div class="tablecenter"><div class="tcont">
<table>
  <tr>
    <th>Значок</th>
    <th>Тип блока</th>
    <th>Дополнительная информация</th>
  </tr>
  <tr>
    <td class="center"><img class="btn" src="../img/SmallIcon_dllblock.png" width="17" height="17" alt="Простой блок" /></td>
    <td>Простой блок</td>
    <td class="center">&mdash;</td>
  </tr>
  <tr>
    <td class="center"><img class="btn" src="../img/SmallIcon_sys.png" width="17" height="17" alt="Подсистема" /></td>
    <td>Подсистема</td>
    <td>Заголовок окна подсистемы</td>
  </tr>
  <tr>
    <td class="center"><img class="btn" src="../img/SmallIcon_input.png" width="17" height="17" alt="Внешний вход" /></td>
    <td>Внешний вход</td>
    <td>Тип переменной</td>
  </tr>
  <tr>
    <td class="center"><img class="btn" src="../img/SmallIcon_output.png" width="17" height="17" alt="Внешний выход" /></td>
    <td>Внешний выход</td>
    <td>Тип переменной</td>
  </tr>
  <tr>
    <td class="center"><img class="btn" src="../img/SmallIcon_port.png" width="17" height="17" alt="Ввод шины" /></td>
    <td>Ввод шины</td>
    <td class="center">&mdash;</td>
  </tr>
</table>
</div></div>

<p>В нижней части вкладки отображается полное (с указанием иерархии всех подсистем)
имя блока. Нажатие на кнопку с стрелкой рядом с этим именем открывает окно подсистемы с
этим блоком и устанавливает полосы прокрутки окна так, чтобы блок был виден (в режиме
редактирования блок автоматически выделяется), при этом окно информации остается на
переднем плане.</p>

<p><span id="ref5">Вкладка</span>
&laquo;<span class="menu"><span id="light_ref5">функции блоков</span></span>&raquo;
(<a href="#pic5" title="Информация о схеме: вкладка функции блоков">рис.&nbsp;273</a>)
отображает список имен
<a href="um_1_6.htm#ref1" title="Коротко о функциях блоков">функций</a>, зарегистрированных моделями блоков. Эти функции
позволяют модели одного блока напрямую обратиться к модели другого, для пользователя
этот механизм не виден. Список функций может быть полезен программисту, создающему
модели блоков &ndash; он сможет понять, правильно ли он зарегистрировал функцию,
не ошибся ли в ее имени и т.п. Для пользователя, не вмешивающегося в работу
моделей блоков, информация на этой вкладке бесполезна.</p>

<div class="pic"><div class="container" id="pic5">
<img src="../img/SysInfo_BlockFuncs.png" width="519" height="377" alt="Информация о схеме: вкладка функции блоков" />
<p id="light_pic5">Рис.&nbsp;273. Информация о схеме: вкладка &laquo;<span class="menu">функции блоков</span>&raquo;</p>
</div></div>


<p><span id="light_ref6">Вкладка &laquo;<span class="menu">компиляция</span>&raquo; (<a href="#pic6" title="Информация о схеме: вкладка компиляция">рис.&nbsp;274</a>)</span>
содержит список всех используемых загруженной схемой модулей
<a href="um_1_8.htm" title="&sect;1.8. Автоматическая компиляция моделей блоков">автоматической компиляции</a> моделей блоков и,
для каждого модуля, всех моделей, обслуживаемых им. Для каждого модуля указывается
название, под которым он
<a href="um_2_19_1.htm" title="&sect;2.19.1. Подключение модулей автоматической компиляции моделей блоков">зарегистрирован</a>
в RDS, и общее число блоков, работающих с этим модулем. Чтобы раскрыть
список моделей, следует щелкнуть по значку со знаком &laquo;+&raquo; слева от
названия модуля. Имена моделей могут иметь разный смысл в разных модулях
автокомпиляции. В стандартном модуле, входящем в состав RDS (работа с ним описана в
<a href="um_index.htm#light_htm:um_3" title="Глава 3. Использование стандартных модулей автокомпиляции">главе 3</a>), имя модели &ndash; это просто имя файла,
в котором хранится ее исходный текст. После имени модели выводится число блоков,
к которым подключена эта модель, и, если модуль автокомпиляции поддерживает нумерацию
версий моделей, версия и дата изменения этой модели.</p>

<div class="pic"><div class="container" id="pic6">
<img src="../img/SysInfo_AutoComp.png" width="519" height="377" alt="Информация о схеме: вкладка компиляция" />
<p id="light_pic6">Рис.&nbsp;274. Информация о схеме: вкладка &laquo;<span class="menu">компиляция</span>&raquo;</p>
</div></div>


<p>Как и на вкладке
&laquo;<span class="menu"><a href="#pic2" title="Информация о схеме: вкладка используемые DLL">используемые DLL</a></span>&raquo;,
в нижней части вкладки &laquo;<span class="menu">компиляция</span>&raquo; находится кнопка &laquo;<span class="menu">блоки</span>&raquo;,
которая показывает (или, при втором нажатии, скрывает) дополнительную панель
(<a href="#pic7" title="Информация о схеме: вкладка компиляция с открытым списком блоков">рис.&nbsp;275</a>)
со списком <a href="um_1_2.htm#ref19" title="Полное имя блока">полных имен блоков</a>, использующих выделенный
в верхней части вкладки модуль или конкретную модель, обслуживаемую им. Двойной щелчок
на имени блока или нажатие кнопки со стрелкой откроет окно подсистемы с этим
блоком и, если включен режим редактирования, выделит его.</p>

<div class="pic"><div class="container" id="pic7">
<img src="../img/SysInfo_AutoComp_blocks.png" width="519" height="377" alt="Информация о схеме: вкладка компиляция с открытым списком блоков" />
<p id="light_pic7">Рис.&nbsp;275. Информация о схеме: вкладка &laquo;<span class="menu">компиляция</span>&raquo; с открытым списком блоков</p>
</div></div>


<p><span id="light_ref7">Последняя вкладка окна информации, &laquo;<span class="menu">динамические переменные</span>&raquo;
(<a href="#pic8" title="Информация о схеме: вкладка динамические переменные с открытым списком блоков">рис.&nbsp;276</a>)</span>, содержит список всех созданных блоками
<a href="um_1_5.htm" title="&sect;1.5. Динамические переменные">динамических переменных</a>. Для каждой переменной отображается
имя, тип и полное имя блока, внутри которого она создана. Если выбрать переменную и нажать кнопку
&laquo;<span class="menu">блоки</span>&raquo; в нижней части вкладки, появится дополнительная панель со списком полных имен блоков,
имеющих отношение к этой переменной
(на <a href="#pic8" title="Информация о схеме: вкладка динамические переменные с открытым списком блоков">рис.&nbsp;276</a>
эта панель отображает список блоков для переменной &laquo;<span class="rdsvar">DynTime</span>&raquo;). В первой строчке
списка всегда выводится имя блока, создавшего переменную, с пометкой
&laquo;создатель&raquo; (блок-создатель у переменной может быть только один), в остальных строчках
&ndash; имена блоков, подписавшихся на переменную. Двойной щелчок на имени блока в этом списке
или нажатие кнопки со стрелкой, как и на остальных вкладках, открывает окно подсистемы с этим
блоком и, если включен режим редактирования, выделяет его.</p>

<div class="pic"><div class="container" id="pic8">
<img src="../img/SysInfo_DynVar.png" width="519" height="377" alt="Информация о схеме: вкладка динамические переменные с открытым списком блоков" />
<p id="light_pic8">Рис.&nbsp;276. Информация о схеме: вкладка &laquo;<span class="menu">динамические переменные</span>&raquo; с открытым списком блоков</p>
</div></div>


<p>Окно информации о схеме может быть очень полезно в тех случаях, когда необходимо
перенести работающую отлаженную схему на другую машину. Изучив список используемых DLL,
можно понять, в каком комплекте устанавливать RDS на эту машину. Изучив список
используемых модулей автокомпиляции и моделей, можно узнать, какие файлы моделей
необходимо перенести на другую машину вместе с файлом схемы или, если не предполагается
устанавливать на эту машину компилятор, в каких блоках необходимо отключить автоматическую
компиляцию моделей.</p>

</div>
<p style="clear:both; min-height:1em; padding:0px; margin: 0px;"></p><hr class="off" /><div class="bottomnav">
<div class="left">
<span class="button"><a href="um_2_16_4.htm" title="Предыдущий параграф" id="pgup_f">&lt;&lt;</a></span>
<span class="button"><a href="um_2_18.htm" title="Следующий параграф" id="pgdn_f">&gt;&gt;</a></span>
<span class="divider"></span>
<span class="button"><a href="um_index.htm#light_htm:um_2_17">Оглавление</a></span>
<span class="button"><a href="alpha.htm">Указатель</a></span>
</div>
</div>
</body>
</html>
