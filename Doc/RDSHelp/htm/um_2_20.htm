<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">
<head>
  <link rel="stylesheet" type="text/css" href="../css/main.css" />
  <link rel="stylesheet" type="text/css" href="../css/cpp.css" />
  <meta http-equiv="Content-Type" content="text/html;charset=windows-1251" />
  <script type="text/javascript" src="script.js"></script>
  <title>&sect;2.20. Окно сетевых соединений</title>
</head><body onload="DocLoad()">
<div class="pageheader"><span class="off"><b>Текущий раздел:</b></span>
<div class="int"><p id="top"><a href="../index.htm">Описания RDS</a></p>
<div class="level"><p><a href="um_index.htm">Описание пользователя</a></p>
<div class="level"><p><a href="um_index.htm#light_htm:um_2">Глава 2. Интерфейс пользователя</a></p>
<div class="level"><p>&sect;2.20. Окно сетевых соединений</p>
</div>
</div>
</div>
</div></div>
<div class="topnav"><span class="off"><b>Навигация:</b></span>
<div class="left">
<span class="button"><a href="um_2_19_3.htm" title="Предыдущий параграф" id="pgup">&lt;&lt;</a></span>
<span class="button"><a href="um_2_21_1.htm" title="Следующий параграф" id="pgdn">&gt;&gt;</a></span>
<span class="divider"></span>
<span class="button"><a href="um_index.htm#light_htm:um_2_20">Оглавление</a></span>
<span class="button"><a href="alpha.htm">Указатель</a></span>
</div>
</div>

<div class="text">
<h1 class="off">Описание пользователя</h1>
<h2 class="off">Глава 2. Интерфейс пользователя</h2>
<h3>&sect;2.20. Окно сетевых соединений</h3>
<p class="abstract">Описывается окно сетевых соединений, используемое для отладки схем, расположенных на нескольких машинах и обменивающихся данными по сети.</p>


<p>Окно сетевых соединений позволяет увидеть состояние 
<a href="um_1_6.htm#ref6" title="Сетевой обмен в RDS">сетевых модулей RDS</a>, работающих в данный момент. 
Эта информация может помочь разработчикам схем и блоков понять, почему обмен 
данными по сети не работает или работает не так, как нужно. Окно вызывается пунктом 
<a href="um_2_1.htm" title="&sect;2.1. Главное окно и главное меню">главного меню RDS</a>
&laquo;<span class="menu">окна | сетевые соединения</span>&raquo;. Если в схеме, загруженной в данный момент, 
нет ни одного блока, обменивающегося по сети данными с другими блоками при помощи встроенных 
возможностей RDS, это окно будет пустым. Если же в схеме есть такие блоки, или если 
RDS работает в режиме выделенного сервера (программа 
&laquo;<span class="file">rds.exe</span>&raquo; запущена с параметром командной строки 
&laquo;/server&raquo;), окно будет содержать одну или несколько вкладок, отражающих 
параметры серверных или клиентских сетевых модулей.</p>

<p><span id="ref1">Для</span>
<span id="ref2">каждого</span>
работающего серверного модуля RDS (не важно, работает 
RDS в режиме выделенного сервера, или один из блоков загруженной схемы 
активировал функции сервера) в окне будет присутствовать
<span id="light_ref2">вкладка с названием 
&laquo;<span class="menu">сервер</span>&raquo;</span> и номером порта <span id="light_ref1">TCP</span> сервера 
(<a href="#pic1" title="Окно сетевых соединений: состояние сервера TCP">рис.&nbsp;291</a>).</p>

<div class="pic"><div class="container" id="pic1">
<img src="../img/NetConn_Server.png" width="478" height="357" alt="Окно сетевых соединений: состояние сервера TCP" />
<p id="light_pic1">Рис.&nbsp;291. Окно сетевых соединений: состояние сервера TCP</p>
</div></div>


<p>Номер порта сервера задается в настройках RDS на вкладке 
&laquo;<span class="menu"><a href="um_2_18.htm#pic7" title="Окно настроек: вкладка сеть &ndash; TCP">сеть &ndash; TCP</a></span>&raquo; или в 
<a href="app_key_server.htm" title="В.8. &laquo; /server &raquo; &ndash; запустить выделенный сервер RDS">параметре командной строки</a>. В нижней части вкладки отображаются информационные 
сообщения сервера и сообщения об ошибках, в верхней находятся две панели: 
слева отображается список IP-адресов и портов клиентов, подключенных к серверу в 
данный момент (номер порта отделяется от адреса двоеточием), 
<span id="ref3">справа</span>
&ndash; имена и номера (в скобках) <span id="light_ref3">каналов передачи данных</span>, 
созданных на этом сервере. Справа сверху, над списком каналов, находится кнопка 
&laquo;<span class="menu">тест</span>&raquo;, позволяющая вычислить задержку передачи данных между сервером и 
клиентами (значение задержки в миллисекундах выводится в списке сообщений внизу вкладки 
и рядом с каждым IP-адресом клиента).</p>

<p>Обмен данными по сети при помощи встроенных функций RDS устроен следующим образом: 
блок, желающий передавать или получать данные, сообщает серверу имя канала передачи, 
с которым он будет работать, после чего сервер будет принимать от блока данные для 
этого канала и, при необходимости, передавать боку данные, поступившие в этот же 
канал от других блоков. Имя канала &ndash; это произвольная строка символов, которая либо 
жестко закладывается в модель блока программистом, либо вводится в настройках блока. 
На сервере каналы создаются автоматически по первому же запросу от блока. Если блок 
почему-то не получает или не принимает данные, на вкладке &laquo;<span class="menu">сервер</span>&raquo; 
окна сетевых соединений можно проверить, присутствует ли адрес машины, на 
которой работает проблемный блок, в списке IP-адресов клиентов, а также присутствует 
ли нужный канал в списке каналов. Отсутствие адреса клиента в списке говорит либо 
о проблемах в сети, либо о том, что данному клиенту 
<a href="um_2_18.htm#ref31" title="Список разрешенных клиентов">запрещено подключение к серверу</a>. 
Отсутствие имени канала в списке указывает на вероятную ошибку в написании его 
имени в настройках блока (при этом в списке будет присутствовать имя с ошибкой).</p>

<p>В окне сетевых соединений может быть несколько вкладок &laquo;<span class="menu">сервер</span>&raquo;, 
если одновременно работает несколько серверных модулей RDS, привязанных к 
разным портам. В этом случае каждая вкладка будет соответствовать одному модулю 
с его номером порта.</p>

<p><span id="ref4">Вкладка</span>
&laquo;<span class="menu"><span id="light_ref4">UDP</span></span>&raquo; 
(<a href="#pic2" title="Окно сетевых соединений: состояние сервера UDP">рис.&nbsp;292</a>) 
будет присутствовать в окне сетевых соединений, если серверный модуль RDS активен и в 
настройках <a href="um_2_18.htm#pic8" title="Окно настроек: вкладка сеть &ndash; UDP">разрешено использование протокола UDP</a>. 
Независимо от числа активных серверных модулей RDS, эта вкладка будет единственной, 
она относится ко всей передаче данных по протоколу UDP. На ней отображается номер порта, 
используемого сервером UDP, список последних информационных сообщений и, если нажата 
кнопка &laquo;<span class="menu">статистика</span>&raquo;, информация о состоянии сервера (внизу вкладки).</p>

<div class="pic"><div class="container" id="pic2">
<img src="../img/NetConn_UDP.png" width="478" height="357" alt="Окно сетевых соединений: состояние сервера UDP" />
<p id="light_pic2">Рис.&nbsp;292. Окно сетевых соединений: состояние сервера UDP</p>
</div></div>


<p>Состояние сервера отображается двумя индикаторами: &laquo;<span class="menu">окно</span>&raquo; (загруженность 
окна передачи) и &laquo;<span class="menu">очередь</span>&raquo; (число пакетов данных в очереди на 
передачу). Загруженность окна передачи выводится в виде двух чисел через дробь: 
числа пакетов, прием которых клиент еще не подтвердил, и общего допустимого числа 
неподтвержденных пакетов. Если первое число приближается ко второму, вероятнее всего, 
сеть перегружена, или есть какие-то проблемы с передачей данных. Рост числа пакетов 
данных в очереди тоже говорит о проблемах с сетью.</p>

<p><span id="light_ref5">Вкладки состояния клиента</span>
(<a href="#pic3" title="Окно сетевых соединений: состояние клиента">рис.&nbsp;293</a>) 
присутствуют в окне сетевых соединений для каждого подключения к внешнему серверу: 
если все блоки загруженной схемы обращаются к одному и тому же серверу, в окне 
будет одна такая вкладка, если к двум разным серверам &ndash; две, и т.д.</p>

<div class="pic"><div class="container" id="pic3">
<img src="../img/NetConn_Client.png" width="478" height="357" alt="Окно сетевых соединений: состояние клиента" />
<p id="light_pic3">Рис.&nbsp;293. Окно сетевых соединений: состояние клиента</p>
</div></div>


<p>Заголовок вкладки состоит из IP-адреса сервера и номера порта на этом сервере, к 
которому подключен клиент, эта же информация дублируется в верхней части самой вкладки. 
В правой верхней ее части находится кнопка &laquo;<span class="menu">тест</span>&raquo;, позволяющая вычислить 
задержку передачи данных на сервер (значение задержки в миллисекундах отображается 
справа от кнопки). Оставшаяся часть вкладки содержит список каналов передачи данных 
сервера, к которому подключен клиент, и список информационных сообщений. Для каждого 
канала указывается режим работы: только передача или прием и передача данных. 
В списке сообщений отображаются сообщения об изменении состояния клиента или об 
ошибках. При наличии каких-либо проблем в передаче данных на этой вкладке можно 
проверить список каналов (все каналы, которые используются блоками схемы, должны 
быть в списке) или увидеть сообщение о той или иной ошибке.</p>

</div>
<p style="clear:both; min-height:1em; padding:0px; margin: 0px;"></p><hr class="off" /><div class="bottomnav">
<div class="left">
<span class="button"><a href="um_2_19_3.htm" title="Предыдущий параграф" id="pgup_f">&lt;&lt;</a></span>
<span class="button"><a href="um_2_21_1.htm" title="Следующий параграф" id="pgdn_f">&gt;&gt;</a></span>
<span class="divider"></span>
<span class="button"><a href="um_index.htm#light_htm:um_2_20">Оглавление</a></span>
<span class="button"><a href="alpha.htm">Указатель</a></span>
</div>
</div>
</body>
</html>
