<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">
<head>
  <link rel="stylesheet" type="text/css" href="../css/main.css" />
  <link rel="stylesheet" type="text/css" href="../css/cpp.css" />
  <meta http-equiv="Content-Type" content="text/html;charset=windows-1251" />
  <script type="text/javascript" src="script.js"></script>
  <title>&sect;2.5. Добавление в схему стандартных блоков</title>
</head><body onload="DocLoad()">
<div class="pageheader"><span class="off"><b>Текущий раздел:</b></span>
<div class="int"><p id="top"><a href="../index.htm">Описания RDS</a></p>
<div class="level"><p><a href="um_index.htm">Описание пользователя</a></p>
<div class="level"><p><a href="um_index.htm#light_htm:um_2">Глава 2. Интерфейс пользователя</a></p>
<div class="level"><p>&sect;2.5. Добавление в схему стандартных блоков</p>
</div>
</div>
</div>
</div></div>
<div class="topnav"><span class="off"><b>Навигация:</b></span>
<div class="left">
<span class="button"><a href="um_2_4.htm" title="Предыдущий параграф" id="pgup">&lt;&lt;</a></span>
<span class="button"><a href="um_2_6.htm" title="Следующий параграф" id="pgdn">&gt;&gt;</a></span>
<span class="divider"></span>
<span class="button"><a href="um_index.htm#light_htm:um_2_5">Оглавление</a></span>
<span class="button"><a href="alpha.htm">Указатель</a></span>
</div>
</div>

<div class="text">
<h1 class="off">Описание пользователя</h1>
<h2 class="off">Глава 2. Интерфейс пользователя</h2>
<h3>&sect;2.5. Добавление в схему стандартных блоков</h3>
<p class="abstract">Описываются способы добавления в схему стандартных блоков: с панели блоков и из библиотеки.</p>


<p>Добавлять в схему стандартные, библиотечные блоки можно двумя основными
способами: с панели блоков главного окна или из отдельных окон библиотек.
Добавлять блоки с панели гораздо быстрее, поэтому сначала рассмотрим этот
способ.</p>

<p><span id="light_ref1">Панель блоков</span>
обычно размещается в правой части
<a href="um_2_1.htm" title="&sect;2.1. Главное окно и главное меню">главного окна</a>
RDS. Она состоит из вкладок, на каждой из которых размещаются
кнопки с условными обозначениями блоков. Обычно на вкладке находятся
блоки, соответствующие названию этой вкладки: на вкладке
&laquo;Логика&raquo; &ndash; логические блоки, на вкладке
&laquo;Интерфейс&raquo; &ndash; блоки для ввода и индикации различных
параметров, и т.п. К большинству кнопок блоков выводятся всплывающие
подсказки, поясняющие назначение данного блока.
Если для блока предусмотрена справка, ее можно вызвать, нажав сначала кнопку этого блока,
а затем клавишу <span class="keys">F1</span>.</p>

<p>Создадим новую пустую схему (см. <a href="um_2_4.htm" title="&sect;2.4. Создание и сохранение новой схемы">&sect;2.4</a>)
и добавим в нее несколько блоков с панели. Для создания схемы необходимо
выполнить следующие действия:</p>

<ol>
  <li><img class="right" src="../img/Button_new.png" width="40" height="25" alt="Кнопка: новая схема" />
      запустить RDS и выбрать пункт меню &laquo;<span class="menu">файл | новый</span>&raquo;
      или нажать соответствующую ему кнопку на панели;</li>
  <li><img class="right" src="../img/Button_save.png" width="25" height="25" alt="Кнопка: сохранить" />
      сохранить созданную пустую схему, выбрав пункт меню
      &laquo;<span class="menu">файл | сохранить</span>&raquo; или нажав
      <span class="keys">Ctrl</span>&nbsp;+&nbsp;<span class="keys">S</span>
      или соответствующую кнопку на панели, и указав имя файла для сохранения
      (для определенности назовем схему &laquo;<span class="file">Test.rds</span>&raquo;).</li>
</ol>

<p class="noindent"><span id="ref2">Теперь</span>добавим в созданную
схему <span id="light_ref2">блок-сумматор</span>.
Для этого нужно сначала выбрать на панели блоков вкладку
&laquo;Алгебра&raquo;. Панель блоков находится внутри главного окна
RDS, поэтому, если главное окно закрыто окном подсистемы, панель
блоков не будет видна.
В этом случае необходимо вызвать главное окно
RDS на передний план нажатием клавиши <span class="keys">F10</span> или
<img class="right" src="../img/Button_rds.png" width="25" height="25" alt="Кнопка: RDS" />
крайней левой кнопки на
<a href="um_2_3.htm#light_ref1" title="Панель расчета">панели расчета</a>
окна подсистемы. После выбора вкладки
&laquo;Алгебра&raquo; на панели блоков появятся кнопки с символическими
изображениями алгебраических блоков, среди которых есть несколько сумматоров.
Нам понадобится сумматор с тремя входами: по умолчанию его кнопка &ndash;
вторая по счету, на ней изображен знак &laquo;плюс&raquo; в белом
прямоугольнике, а при подведении к нему курсора мыши появляется подсказка
&laquo;Сложение y = x1+x2+x3&raquo;. Необходимо нажать эту кнопку
(<a href="#pic1" title="Добавление блока с панели в схему: щелчок на панели (а), затем щелчок в окне подсистемы (б)">рис.&nbsp;28</a>а) &ndash;
она останется нажатой &ndash; а затем щелкнуть левой кнопкой мыши в том
месте рабочего поля, в котором нужно разместить новый блок
(<a href="#pic1" title="Добавление блока с панели в схему: щелчок на панели (а), затем щелчок в окне подсистемы (б)">рис.&nbsp;28</a>б).
После щелчка на рабочем поле появится и станет выделенным блок
&laquo;<span class="rdsvar">Sum_1</span>&raquo;, а кнопка на панели перейдет в ненажатое
состояние.</p>

<div class="pic"><div class="container" id="pic1">
<img src="../img/AddBlockFromPanel.png" width="777" height="409" alt="Добавление блока с панели в схему: щелчок на панели (а), затем щелчок в окне подсистемы (б)" />
<p id="light_pic1">Рис.&nbsp;28. Добавление блока с панели в схему: щелчок на панели (а),<br />затем щелчок в окне подсистемы (б)</p>
</div></div>


<p>Внешний вид блока в подсистеме может не совпадать с изображением на кнопке
панели: на кнопке обычно отображается маленькая стилизованная картинка, а в
подсистеме некоторые блоки (например, графики) могут иметь очень сложное
изображение.</p>

<p>По умолчанию щелчки левой кнопкой мыши в окне подсистемы используются для
выделения ее блоков и связей. Нажатая кнопка блока на панели блоков
сигнализирует о том, что, вместо этого, следующий щелчок на рабочем поле
какого-либо окна подсистемы добавит этот блок в эту подсистему. Если
пользователь передумает добавлять блок, он может еще раз нажать на
его кнопку (она перейдет в ненажатое состояние) или нажать отдельно
расположенную кнопку с изображением курсора мыши в левой части панели.</p>

<p><span id="ref3">Теперь</span>
точно так же добавим в схему стандартное <span id="light_ref3">поле ввода</span>. Для этого
выберем на панели вкладку &laquo;Интерфейс&raquo;, нажмем на ней самую
первую кнопку (с всплывающей подсказкой &laquo;Ввод числа&raquo;) и
щелкнем на рабочем поле где-нибудь левее уже помещенного туда
сумматора &ndash; в схеме появится новый блок &laquo;<span class="rdsvar">DEdit1</span>&raquo;
(<a href="#pic2" title="Окно подсистемы после добавления поля ввода">рис.&nbsp;29</a>).
Для полей ввода отображение имени по умолчанию отключено, но имя
выделенного блока можно прочесть в строке состояния.</p>

<div class="pic"><div class="container" id="pic2">
<img src="../img/AddBlockFromPanel1.png" width="640" height="259" alt="Окно подсистемы после добавления поля ввода" />
<p id="light_pic2">Рис.&nbsp;29. Окно подсистемы после добавления поля ввода</p>
</div></div>


<p><span id="ref4">Добавим</span>
в схему числовой индикатор, но, на этот раз, не с панели блоков, а из
<span id="light_ref4">окна библиотеки</span>. Но прежде разберемся,
как устроена и эта библиотека, и панель блоков.</p>

<p>И панель, и библиотека блоков &ndash; это набор отдельных файлов с
описаниями блоков в специально отведенных для этого папках.
<span id="ref6"><span id="ref5">По умолчанию</span></span>
панель блоков находится в <span id="light_ref5">папке &laquo;<span class="file">Panel\</span>&raquo;</span>
внутри папки установки RDS, а библиотека &ndash; в <span id="light_ref6">папке
&laquo;<span class="file">Library\</span>&raquo;</span> там же (размещение панели и библиотеки можно
задать в <a href="um_2_18.htm#pic4" title="Окно настроек: вкладка папки">окне настроек</a>
RDS). Внутри папки панели блоков находятся другие папки, каждая из
которых соответствует отдельной вкладке панели, а внутри этих папок &ndash;
файлы самих блоков. Например, описание сумматора
&laquo;<span class="rdsvar">Sum_1</span>&raquo;, добавленного нами в схему с вкладки
&laquo;Алгебра&raquo;, по умолчанию находится в папке
&laquo;<span class="file">Panel\Алгебра\Sum_.blk</span>&raquo;, а описание поля ввода
&laquo;<span class="rdsvar">DEdit1</span>&raquo; с вкладки &laquo;Интерфейс&raquo; &ndash;
в папке &laquo;<span class="file">Panel\Интерфейс\DEdit.blk</span>&raquo;. Вложенные папки не
допускаются &ndash; на вкладке не могут располагаться другие вкладки,
только кнопки самих блоков.</p>

<p>При добавлении блока в схему RDS загружает его из соответствующего
файла и дает ему имя, состоящее из имени этого файла и порядкового номера
такого блока в подсистеме. Например, если мы добавим в ту же самую подсистему
второе поле ввода, оно получит имя &laquo;<span class="rdsvar">DEdit2</span>&raquo;, поскольку блок
с именем &laquo;<span class="rdsvar">DEdit1</span>&raquo; в подсистеме уже есть.
<span id="ref10"><span id="ref9"><span id="ref8"><span id="ref7">Помимо основного файла</span></span></span></span>
описания блока с <span id="light_ref7">расширением &laquo;<span class="file">blk</span>&raquo;</span>,
в папке, соответствующей вкладке панели блоков, могут находиться файлы с
растровыми рисунками, отображаемыми на кнопках этих блоков (обычно они
имеют расширения
&laquo;<span class="file"><span id="light_ref8">bmp</span></span>&raquo; или
&laquo;<span class="file"><span id="light_ref9">ico</span></span>&raquo;),
а также текстовые файлы всплывающих подсказок к кнопкам
с расширением
&laquo;<span class="file"><span id="light_ref10">txt</span></span>&raquo; &ndash; за исключением расширения, имена таких
вспомогательных файлов должны совпадать с именем основного.
Вместе с файлом данных поля ввода &laquo;<span class="file">DEdit.blk</span>&raquo;, например,
в папке &laquo;<span class="file">Интерфейс</span>&raquo; находятся файл его картинки на кнопке
&laquo;<span class="file">DEdit.bmp</span>&raquo; и файл всплывающей подсказки
&laquo;<span class="file">DEdit.txt</span>&raquo;.
<span id="ref11">Кроме того</span>, в папке вкладки обычно находится
файл с именем
&laquo;<span class="file"><span id="light_ref11">order.lst</span></span>&raquo;, в
котором в текстовом виде
указывается порядок расположения кнопок блоков на вкладке &ndash; по одному
имени файла на строку. Все эти файлы могут быть отредактированы средствами
Windows или с помощью пользовательского интерфейса
<a href="um_2_16_1.htm" title="&sect;2.16.1. Элементы и меню окна библиотеки">окна библиотеки</a>.</p>

<p>Библиотека блоков устроена так же, как и панель блоков, за исключением того,
что в ней допускаются вложенные папки, и блоки в библиотеке всегда сортируются
в алфавитном порядке их имен (вручную задать порядок блоков в окне библиотеки,
в отличие от порядка кнопок на вкладке панели, нельзя). Обычно в библиотеку
помещают редко используемые блоки, чтобы не загромождать ими панель,
которая постоянно находится у пользователя перед глазами. По умолчанию
библиотека пуста, пользователь может, при желании, добавлять туда блоки
самостоятельно.</p>

<div class="picright"><div class="container" id="pic3">
<img src="../img/LibraryPanel.png" width="387" height="292" alt="Окно библиотеки блоков" />
<p id="light_pic3">Рис.&nbsp;30. Окно библиотеки блоков</p>
</div></div>


<p>Доступ к библиотеке блоков осуществляется через специальное окно,
напоминающее &laquo;Проводник&raquo; Windows
(<a href="#pic3" title="Окно библиотеки блоков">рис.&nbsp;30</a>). Открыть это окно можно
при помощи пункта главного меню &laquo;<span class="menu">окна | окно библиотеки</span>&raquo;, на
<a href="um_2_1.htm#pic1" title="Главное окно RDS и его панели">панели списка открытых окон</a>
при этом появляется кнопка этого окна. Окно
библиотеки позволяет обращаться не только к самой библиотеке, но и к панели
блоков, показывая структуру ее папок-вкладок и находящиеся на ней файлы
блоков с их именами. Добавление новых блоков на панель чаще всего производится
не вручную, записью файла блока в соответствующую папку, а при помощи окна
библиотеки (см. <a href="um_2_16_2.htm" title="&sect;2.16.2. Добавление блоков в библиотеку">&sect;2.16.2</a>). Мы сейчас не
будем добавлять блоки в библиотеку, мы используем окно библиотеки, чтобы
добавить в нашу схему числовой индикатор. Конечно, добавить его непосредственно
с панели блоков, где он и находится, было бы быстрее, но, поскольку сама
библиотека блоков в RDS по умолчанию пуста и оттуда в схему нечего
добавлять, мы таким образом сможем проиллюстрировать использование окна
библиотеки для добавления блока.</p>

<p>Откроем новое окно библиотеки, выбрав пункт главного меню
&laquo;<span class="menu">окна | окно библиотеки</span>&raquo;. В дереве папок, находящемся в левой
части появившегося окна (см. <a href="#pic3" title="Окно библиотеки блоков">рис.&nbsp;30</a>)
раскроем элемент &laquo;Панель блоков&raquo;, нажав на значок &laquo;+&raquo;
слева от него, и выберем в нем вложенную папку &laquo;Интерфейс&raquo;.
В правой части окна появится список блоков вкладки &laquo;Интерфейс&raquo; &ndash;
нажмем левую кнопку мыши на блоке с именем &laquo;DDisplay&raquo;.
Затем, не отпуская кнопку, переместим курсор мыши на рабочее поле
подсистемы правее сумматора и отпустим левую кнопку. В указанной нами точке
появится числовой индикатор
(<a href="#pic4" title="Перетаскивание блока из окна библиотеки в подсистему">рис.&nbsp;31</a>).</p>

<div class="pic"><div class="container" id="pic4">
<img src="../img/AddBlockFromLibrary.png" width="777" height="406" alt="Перетаскивание блока из окна библиотеки в подсистему" />
<p id="light_pic4">Рис.&nbsp;31. Перетаскивание блока из окна библиотеки в подсистему</p>
</div></div>


<p><span id="ref12">Есть</span>
<span id="ref13">и</span>
другой <span id="light_ref13">способ помещения блоков из окна библиотеки</span>
на рабочее поле
схемы: если выделить в окне библиотеки один или несколько блоков
(одиночный блок выделяется щелчком левой кнопки мыши, другие блоки добавляются
к выделению щелчками с нажатой клавишей <span class="keys">Ctrl</span> или
<span class="keys">Shift</span>), скопировать их в
<span id="light_ref12">буфер обмена</span>, нажав
<span class="keys">Ctrl</span>&nbsp;+&nbsp;<span class="keys">C</span> или
выбрав в меню пункт &laquo;<span class="menu">редактирование | копировать</span>&raquo;, а затем
перейти в окно подсистемы и вставить их из буфера, нажав
<span class="keys">Ctrl</span>&nbsp;+&nbsp;<span class="keys">V</span> или
выбрав пункт меню &laquo;<span class="menu">редактирование | вставить</span>&raquo;, выделенные в
библиотеке блоки добавятся в подсистему.
Если необходимо точно указать точку, в которой нужно разместить
добавляемые блоки, вместо главного меню следует воспользоваться
контекстным: скопировав блоки в буфер обмена следует нажать правую кнопку
мыши в том месте рабочего поля, где должны оказаться новые блоки, и
выбрать в появившемся меню пункт &laquo;<span class="menu">вставить</span>&raquo;.</p>

<p>Интерфейс окна библиотеки позволяет не только добавлять блоки в схему,
но и редактировать библиотеку и панель блоков, задавать текст всплывающих
подсказок, указывать картинки для кнопок, добавлять в библиотеку блоки из
схемы и т.п. Все эти возможности  подробно рассмотрены в
<a href="um_index.htm#light_htm:um_2_16" title="&sect;2.16. Создание и редактирование библиотек и вкладок панели блоков">&sect;2.16</a>.</p>

<p><span id="ref14">Есть еще один</span>,
наименее удобный, способ добавить в схему стандартный блок.
Если известен путь к файлу этого блока, можно <span id="light_ref14">загрузить</span> его в схему, нажав
в выбранном месте рабочего поля подсистемы правую кнопку мыши, выбрав в
открывшемся контекстном меню пункт &laquo;<span class="menu">создать | загрузить&hellip;</span>&raquo;
и указав путь к файлу блока. Этот способ может пригодиться, если стандартный
блок пока отсутствует в библиотеке (например, если он был прислан
разработчиком по электронной почте) или для добавления в подсистему другой
схемы в качестве единого блока.
<span id="ref15">Схема</span>
в RDS, а точнее, ее
<span id="light_ref15">корневая подсистема</span>, тоже является блоком, потому, при
необходимости, она может быть добавлена внутрь другой схемы.
Создание подсистем в схемах описывается в
<a href="um_index.htm#light_htm:um_2_11" title="&sect;2.11. Использование подсистем">&sect;2.11</a>.</p>

</div>
<p style="clear:both; min-height:1em; padding:0px; margin: 0px;"></p><hr class="off" /><div class="bottomnav">
<div class="left">
<span class="button"><a href="um_2_4.htm" title="Предыдущий параграф" id="pgup_f">&lt;&lt;</a></span>
<span class="button"><a href="um_2_6.htm" title="Следующий параграф" id="pgdn_f">&gt;&gt;</a></span>
<span class="divider"></span>
<span class="button"><a href="um_index.htm#light_htm:um_2_5">Оглавление</a></span>
<span class="button"><a href="alpha.htm">Указатель</a></span>
</div>
</div>
</body>
</html>
