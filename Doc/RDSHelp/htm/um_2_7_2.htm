<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">
<head>
  <link rel="stylesheet" type="text/css" href="../css/main.css" />
  <link rel="stylesheet" type="text/css" href="../css/cpp.css" />
  <meta http-equiv="Content-Type" content="text/html;charset=windows-1251" />
  <script type="text/javascript" src="script.js"></script>
  <title>&sect;2.7.2. Изменение внешнего вида, параметров и конфигурации связи</title>
</head><body onload="DocLoad()">
<div class="pageheader"><span class="off"><b>Текущий раздел:</b></span>
<div class="int"><p id="top"><a href="../index.htm">Описания RDS</a></p>
<div class="level"><p><a href="um_index.htm">Описание пользователя</a></p>
<div class="level"><p><a href="um_index.htm#light_htm:um_2">Глава 2. Интерфейс пользователя</a></p>
<div class="level"><p><a href="um_index.htm#light_htm:um_2_7">&sect;2.7. Создание и изменение связей</a></p>
<div class="level"><p>&sect;2.7.2. Изменение внешнего вида, параметров и конфигурации связи</p>
</div>
</div>
</div>
</div>
</div></div>
<div class="topnav"><span class="off"><b>Навигация:</b></span>
<div class="left">
<span class="button"><a href="um_2_7_1.htm" title="Предыдущий параграф" id="pgup">&lt;&lt;</a></span>
<span class="button"><a href="um_2_7_3.htm" title="Следующий параграф" id="pgdn">&gt;&gt;</a></span>
<span class="divider"></span>
<span class="button"><a href="um_index.htm#light_htm:um_2_7_2">Оглавление</a></span>
<span class="button"><a href="alpha.htm">Указатель</a></span>
</div>
</div>

<div class="text">
<h1 class="off">Описание пользователя</h1>
<h2 class="off">Глава 2. Интерфейс пользователя</h2>
<h3 class="off">&sect;2.7. Создание и изменение связей</h3>
<h4>&sect;2.7.2. Изменение внешнего вида, параметров и конфигурации связи</h4>
<p class="abstract">Описываются настройки созданной связи и способы изменения ее узлов и линий.</p>


<p>После того как связь создана, можно изменять ее цвет, толщину, размеры
стрелок и узлов, добавлять и перемещать отдельные узлы (в том числе
переключать конечные узлы на другие блоки и переменные), а также делать
отдельные линии кривыми Безье.</p>

<p><span id="ref1">Задание внешнего вида</span>
всей связи производится при помощи <span id="light_ref1">окна ее параметров</span>,
которое можно вызвать либо дважды щелкнув в
<a href="um_1_3.htm#ref1" title="Режим редактирования">режиме редактирования</a>
на любой линии или любом узле связи, либо нажав на связи правую кнопку мыши и
выбрав в
<a href="um_2_3.htm#ref14" title="Контекстное меню подсистемы">контекстном меню</a>
пункт &laquo;<span class="menu">параметры</span>&raquo;. Окно содержит три
вкладки: &laquo;<span class="menu">внешний вид</span>&raquo;, &laquo;<span class="menu">соединения</span>&raquo;
(<a href="#pic1" title="Вкладки окна параметров связи внешний вид (а) и соединения (б)">рис.&nbsp;48</a>) и
&laquo;<span class="menu">дополнительно</span>&raquo; (<a href="#pic6" title="Вкладка дополнительно окна параметров связи">рис.&nbsp;53</a>).</p>

<div class="pic"><div class="container" id="pic1">
<div class="multi" id="pic1_0"><img src="../img/ConnectionParams_App.png" width="398" height="377" alt="Вкладки окна параметров связи внешний вид (а) и соединения (б) 1" /><p id="light_pic1_0">(а)</p></div><div class="multi" id="pic1_1"><img src="../img/ConnectionParams_Conn.png" width="398" height="377" alt="Вкладки окна параметров связи внешний вид (а) и соединения (б) 2" /><p id="light_pic1_1">(б)</p></div><p id="light_pic1">Рис.&nbsp;48. Вкладки окна параметров связи &laquo;<span class="menu">внешний вид</span>&raquo; (а) и &laquo;<span class="menu">соединения</span>&raquo; (б)</p>
</div></div>


<p>На вкладке
&laquo;<span class="menu"><a href="#pic1_0" title="Вкладки окна параметров связи внешний вид (а) и соединения (б)">внешний вид</a></span>&raquo;
можно задать размеры и цвет линий
и узлов данной связи.
<span id="ref2">В</span>
верхней части вкладки располагается выпадающий список
&laquo;<span class="menu"><span id="light_ref2">стиль</span></span>&raquo;, в котором можно выбрать один из заранее созданных
<a href="um_2_13.htm" title="&sect;2.13. Стили связей и шин">стилей связи</a>
и установить все параметры данной связи согласно этому стилю. Справа от этого
списка находится кнопка &laquo;<span class="menu">стили</span>&raquo;, вызывающая редактор стилей связей
(его также можно вызвать при помощи пункта
&laquo;<span class="menu">система | стили связей и шин</span>&raquo;
<a href="um_2_1.htm" title="&sect;2.1. Главное окно и главное меню">главного меню</a>
RDS). Ниже находятся кнопки и поля ввода, с помощью которых можно
менять отдельные параметры, влияющие на внешний вид всех линий и узлов
данной связи:</p>

<ul>
  <li>&laquo;<span class="menu">Тип</span>&raquo; &ndash; выпадающий список, в котором можно выбрать
  тип линии связи: сплошная, пунктирная и т.п.</li>
  <li>&laquo;<span class="menu">Толщина</span>&raquo; &ndash; поле для ввода толщины линий связи
  в точках экрана (при увеличении масштаба в окне подсистемы толщина будет
  изменяться, поэтому в поле вводится толщина для масштаба 100%).</li>
  <li>&laquo;<span class="menu">Цвет</span>&raquo; &ndash; кнопка, открывающая диалог выбора цвета
  связи. Этим цветом будут изображаться все линии, узлы и стрелки данной
  связи, а также имена переменных рядом с ее конечными узлами. Шрифт имен
  переменных отдельно не задается, он общий для всех связей в подсистеме и
  указывается в <a href="um_2_11_4.htm#light_ref9" title="Параметры окна подсистемы">окне параметров</a>
  подсистемы.</li>
  <li>&laquo;<span class="menu">Размер узла</span>&raquo; &ndash; поле ввода для задания диаметра
  кругов, которые рисуются в точках ветвления связи. Диаметр указывается
  в точках экрана для масштаба 100%, при задании нулевого диаметра круги
  рисоваться не будут.</li>
  <li>&laquo;<span class="menu">Длина стрелки</span>&raquo; &ndash; поле ввода для задания длины
  стрелок, которые рисуются на связи около входов блоков. Длина указывается
  в точках экрана для масштаба 100%, при задании нулевой длины стрелки
  рисоваться не будут.</li>
  <li>&laquo;<span class="menu">Выступ стрелки</span>&raquo; &ndash; поле ввода для задания половины
  ширины задней части треугольной стрелки. Значение указывается в точках
  экрана для масштаба 100%, при задании нулевого выступа стрелки рисоваться
  не будут.</li>
</ul>

<p>Непосредственно под полями ввода находится изображение, показывающее,
как будет выглядеть связь при введенных в поля ввода значениях.
<span id="ref3">В</span>
<span id="ref4">нижней</span>
части
вкладки расположен
<span id="light_ref4">флажок, разрешающий перемещение связи мышью</span>,
и выпадающий список &laquo;<span class="menu">слой</span>&raquo;, позволяющий <span id="light_ref3">задать
<a href="um_1_2.htm#ref23" title="слои в подсистеме">слой</a>
окна подсистемы, на котором находится эта связь</span>. Кнопка &laquo;<span class="menu">текущий</span>&raquo;
справа от этого списка помещает связь на текущий слой текущей конфигурации слоев.
Управлять слоями подсистемы можно в
<a href="um_2_12.htm" title="&sect;2.12.1. Использование слоев">редакторе слоев</a>.</p>

<div class="picright"><div class="container" id="pic2">
<img src="../img/DisabledConn.png" width="278" height="147" alt="Отключенная связь" />
<p id="light_pic2">Рис.&nbsp;49. Отключенная связь</p>
</div></div>


<p><span id="ref5">На вкладке</span>
&laquo;<span class="menu"><a href="#pic1_1" title="Вкладки окна параметров связи внешний вид (а) и соединения (б)">соединения</a></span>&raquo;
отображается список всех переменных, соединяемых данной связью, а также флажок,
позволяющий полностью <span id="light_ref5">отключить связь</span>.
Отключенная связь не передает данные при работе схемы, в подсистеме поверх нее
изображаются красные круглые иконки
(<a href="#pic2" title="Отключенная связь">рис.&nbsp;49</a>).
Отключение связей может быть полезно при отладке схемы для временной
блокировки работы отдельных ее частей. Для включения и выключения связи
не обязательно вызывать окно ее параметров &ndash; вместо этого можно
воспользоваться соответствующим пунктом
<a href="um_2_3.htm#ref16" title="Контекстное меню точки связи или шины">контекстного меню</a>
или выделить связь, щелкнув по ней левой кнопкой мыши, после чего нажать
<span class="keys">Ctrl</span>&nbsp;+&nbsp;<span class="keys">&lowast;</span>
(клавиша &laquo;&lowast;&raquo; нажимается на цифровой клавиатуре.</p>

<p>Список соединяемых связью переменных состоит из четырех колонок. В крайней
левой колонке, не имеющей заголовка, отображается иконка, символизирующая
<a href="um_1_4.htm#ref20" title="Роли переменных в блоке">роль данной переменной в блоке</a>: вход (кружок со
стрелкой к нему) или выход (кружок со стрелкой от него). В колонке
&laquo;<span class="menu">переменная</span>&raquo; отображаются имена блока и переменной в нем,
разделенные двоеточием. В колонке &laquo;<span class="menu">тип</span>&raquo; выводится название типа
данной переменной. В крайней правой колонке без заголовка выводится
&laquo;OK&raquo;, если соединение с переменной в порядке, или одна из двух
иконок, указывающих на ошибку: красный треугольник, если переменной с
указанным именем нет в блоке
(<a href="#pic3" title="Ошибка в соединении: переменной Var нет в блоке Int2">рис.&nbsp;50</a>)
или желтый круг, если если эта переменная &ndash; выход, а связь уже подключена
к какому-либо выходу блока
(<a href="#pic4" title="Ошибка в соединении: соединены два выхода блока">рис.&nbsp;51</a>),
или если тип переменной
<a href="um_1_4.htm#ref23" title="Допустимые соединения типов переменных">не совместим</a>
с типом данных, передаваемых связью
(<a href="#pic5" title="Ошибка в соединении: выход типа double не может быть подключен к матрице">рис.&nbsp;52</a>).
Такая же иконка будет отображаться в окне подсистемы поверх узла,
соединяющего связь с блоком. Выбрав имя переменной в списке, можно прочесть
описание ошибки в нижней части вкладки.</p>

<div class="pic"><div class="container" id="pic3">
<img src="../img/ConnErr_NoVar.png" width="398" height="325" alt="Ошибка в соединении: переменной Var нет в блоке Int2" />
<p id="light_pic3">Рис.&nbsp;50. Ошибка в соединении:<br />переменной &laquo;<span class="rdsvar">Var</span>&raquo; нет в блоке &laquo;<span class="rdsvar">Int2</span>&raquo;</p>
</div>
<div class="container" id="pic4">
<img src="../img/ConnErr_2Outs.png" width="398" height="325" alt="Ошибка в соединении: соединены два выхода блока" />
<p id="light_pic4">Рис.&nbsp;51. Ошибка в соединении:<br />соединены два выхода блока</p>
</div>
<div class="container" id="pic5">
<img src="../img/ConnErr_Type.png" width="398" height="325" alt="Ошибка в соединении: выход типа double не может быть подключен к матрице" />
<p id="light_pic5">Рис.&nbsp;52. Ошибка в соединении: выход типа<br />double не может быть подключен к матрице</p>
</div>
</div>


<p>На вкладке
&laquo;<span class="menu"><span id="light_ref6">дополнительно</span></span>&raquo;
окна параметров связи
(<a href="#pic6" title="Вкладка дополнительно окна параметров связи">рис.&nbsp;53</a>) можно задать для
связи дополнительные параметры, которые могут использоваться в моделях блоков или
для вывода всплывающей подсказки к связи. На работу связи и передачу
данных они не влияют.</p>

<div class="pic"><div class="container" id="pic6">
<img src="../img/ConnectionParams_Additional.png" width="398" height="259" alt="Вкладка дополнительно окна параметров связи" />
<p id="light_pic6">Рис.&nbsp;53. Вкладка &laquo;<span class="menu">дополнительно</span>&raquo; окна параметров связи</p>
</div></div>


<p>Большую часть вкладки занимает список параметров вида
&laquo;<i>тип</i> <i>имя</i> = <i>значение</i>&raquo;. Параметры могут иметь один
из трех типов: целое число (int), вещественное число (double) и строка. Если
значение параметра выводится во всплывающей подсказке к связи, справа в соответствующей ему
строке списка отображается прямоугольный значок. В правой части вкладки находятся кнопки,
позволяющие добавлять и редактировать параметры, менять их местами в списке, а также удалять их.
Чаще всего добавлением и удалением параметров занимается не пользователь, а модели блоков,
соединяемых связью, а эта вкладка позволяет проверить их работу и редактировать параметры в
целях отладки. При добавлении и редактировании параметра открывается отдельное окно
(<a href="#pic7" title="Окно добавления и редактирования параметра связи">рис.&nbsp;54</a>),
в котором вводится имя и значение параметра и выбирается в выпадающем списке его
тип. Там же можно установить флажок, который добавит имя и значение этого параметра во
всплывающую подсказку связи (вывод всплывающей подсказки для связи обычно также контролируется
моделями соединяемых блоков).</p>

<div class="pic"><div class="container" id="pic7">
<img src="../img/ConnectionParams_AddParamWin.png" width="389" height="170" alt="Окно добавления и редактирования параметра связи" />
<p id="light_pic7">Рис.&nbsp;54. Окно добавления и редактирования параметра связи</p>
</div></div>


<p><span id="ref7">Если</span>
для схемы заданы какие-либо <a href="um_2_12a.htm" title="&sect;2.12.2. Использование классов">классы объектов</a>, в окне
параметров связи будет присутствовать <span id="light_ref7">вкладка &laquo;<span class="menu">классы</span>&raquo;</span>
(<a href="#pic8" title="Вкладка классы окна параметров связи">рис.&nbsp;55</a>), на которой можно включить связь в один
или несколько классов схемы. При отсутствии в схеме классов эта вкладка не отображается.</p>

<div class="pic"><div class="container" id="pic8">
<img src="../img/ConnClasses.png" width="398" height="259" alt="Вкладка классы окна параметров связи" />
<p id="light_pic8">Рис.&nbsp;55. Вкладка &laquo;<span class="menu">классы</span>&raquo; окна параметров связи</p>
</div></div>


<p>Большую часть вкладки занимает список классов схемы, в котором галочками отмечены те
из них, к которым принадлежит данная связь. Связь может одновременно принадлежать к нескольким
классам или не принадлежать ни к одному, на
<a href="#pic8" title="Вкладка классы окна параметров связи">рис.&nbsp;55</a> она принадлежит к классам
&laquo;вычислительные&raquo; и &laquo;логические&raquo;. Кнопки
&laquo;<span class="menu">включить все</span>&raquo; и &laquo;<span class="menu">выключить все</span>&raquo; внизу вкладки устанавливают и
сбрасывают все галочки соответственно, кнопка &laquo;<span class="menu">классы</span>&raquo; открывает
<a href="um_2_12a.htm#pic1" title="Окно списка классов схемы">окно редактирования классов</a> схемы.</p>

<div class="picright"><div class="container" id="pic9">
<img src="../img/ConnSelected.png" width="232" height="124" alt="Выделенная связь" />
<p id="light_pic9">Рис.&nbsp;56. Выделенная связь</p>
</div></div>


<p>Связи, как и блоки, могут быть выделены для проведения с ними каких-либо
операций. При открытии окна параметров двойным щелчком или при вызове
контекстного меню связь выделяется автоматически, но ее можно выделить и
вручную, щелкнув на ней в режиме редактирования левой кнопкой мыши. Все узлы
выделенной связи помечаются круглыми маркерами, середины всех ее отрезков помечаются маркерами в
форме ромбов (если в <a href="um_2_18.htm#pic1" title="Окно настроек: вкладка общие">настройках RDS</a>
маркеры отрезков не отключены), а все имена соединяемых связью
переменных отображаются инверсно. Кроме того, вокруг прямоугольной области,
занимаемой связью, рисуется шесть стандартных маркеров выделения
(<a href="#pic9" title="Выделенная связь">рис.&nbsp;56</a>).
Как и блоки, связи можно добавлять к выделенным объектам или исключать из них,
щелкая на них левой кнопкой с нажатой клавишей
<span class="keys">Shift</span>. При
<a href="um_2_6.htm#ref2" title="Выделение прямоугольной области">выделении прямоугольной области</a>
рабочего поля попавшие внутрь рамки связи также становятся выделенными.
Выделенные блоки и связи перемещаются, копируются и удаляются как единое целое.
Однако, в выделении и перемещении связей есть несколько особенностей.</p>

<p>Во-первых, если для выделения блока достаточно щелкнуть левой кнопкой на
любой точке прямоугольной области его изображения, для выделения связи
нужно обязательно попасть в ее линию, узел или в имя переменной возле одного
из ее конечных узлов. Если связь имеет сложную конфигурацию и щелчок мыши
придется внутрь занимаемой ей прямоугольной области рабочего поля, но под
курсором не окажется никаких элементов, принадлежащих связи, то связь
выделена не будет. Это связано с тем, что связь может проходить через всю
подсистему, многократно разветвляясь, и, в этом случае, ее описывающий
прямоугольник будет иметь очень большой размер и перекрывать все остальные
объекты в подсистеме.</p>

<div class="picright"><div class="container" id="pic10">
<img src="../img/ConnMove.png" width="243" height="165" alt="Перемещение связи: узлы соединения с блоками остаются на месте" />
<p id="light_pic10">Рис.&nbsp;57. Перемещение связи:<br/ >узлы соединения с блоками<br/ >остаются на месте</p>
</div></div>


<p>Во-вторых, при перемещении связи всегда перемещаются только ее промежуточные узлы.
Узлы, соединяющие связь с блоками, либо жестко привязаны к этим блокам и перемещаются
только вместе с ними, либо стараются остаться на границах блоков и останавливаются на этих границах.
Конкретное поведение конечных точек связи при перемещении зависит от установок флажка
&laquo;<span class="menu">перемещать конечные точки связей вместе с блоками и шинами</span>&raquo; в
<a href="um_2_18.htm#pic1" title="Окно настроек: вкладка общие">настройках</a> RDS. Так же ведут себя узлы,
<a href="um_2_8.htm" title="&sect;2.8. Использование шин">соединяющие связь с шинами</a>. При включенном флажке,
если выделить какую-либо связь, не включив в выделение блоки, которые она
соединяет, в процессе перемещения связи точки соединения с блоками останутся на месте
(<a href="#pic10" title="Перемещение связи: узлы соединения с блоками остаются на месте">рис.&nbsp;57</a>).
Если связь состоит только из начального и конечного узлов и единственной линии
между ними, ее вообще невозможно будет переместить отдельно от соединяемых
блоков, поскольку в ней нет ни одного промежуточного узла. При выключении упомянутого выше флажка в настройках
RDS такую связь можно будет перемещать, но только до тех пор, пока ее конечные точки не попытаются выйти
за пределы изображений блоков.</p>

<p>В-третьих, есть разница между выделением единственной связи и выделением
связи вместе с другими связями и блоками. Если связь &ndash; единственный
выделенный в подсистеме объект, можно перемещать ее отдельные узлы, отрезки и имена
переменных. Если вместе со связью выделено еще что-нибудь, перемещение
отдельных элементов связи блокируется &ndash; вместо этого, как обычно,
будут перемещаться все выделенные объекты.</p>

<p>Для того, чтобы переместить отдельный узел связи, необходимо нажать на нем
левую кнопку мыши (при этом связь, которой принадлежит узел, должна быть
единственным выделенным объектом или вообще не выделена), затем, удерживая ее
нажатой, переместить его в нужную точку и отпустить кнопку
(<a href="#pic11" title="Последовательность перемещения узла связи">рис.&nbsp;58</a>).</p>

<div class="pic"><div class="container" id="pic11">
<div class="multi" id="pic11_0"><img src="../img/NodeMove1.png" width="239" height="151" alt="Последовательность перемещения узла связи 1" /><p id="light_pic11_0">(а)</p></div><div class="multi" id="pic11_1"><img src="../img/NodeMove2.png" width="239" height="151" alt="Последовательность перемещения узла связи 2" /><p id="light_pic11_1">(б)</p></div><div class="multi" id="pic11_2"><img src="../img/NodeMove3.png" width="239" height="151" alt="Последовательность перемещения узла связи 3" /><p id="light_pic11_2">(в)</p></div><p id="light_pic11">Рис.&nbsp;58. Последовательность перемещения узла связи</p>
</div></div>


<p class="noindent">В зависимости от того, какой именно узел перемещается, и где
расположена конечная точка перемещения, возможны следующие варианты:</p>

<ul>
  <li>Перемещается промежуточный узел &ndash; узел займет новое положение,
  логическая структура связи не изменится.</li>
  <li>Узел соединения с блоком перемещается в пределах изображения этого блока
  &ndash; узел займет новое положение, логическая структура связи не изменится.</li>
  <li>Узел соединения с блоком перемещается на свободное место рабочего поля &ndash;
  после запроса пользователю связь будет отсоединена от блока, ее конечный узел
  &laquo;повиснет в воздухе&raquo;.</li>
  <li>Узел соединения с блоком перемещается на изображение другого блока &ndash;
  откроется <a href="um_2_7_1.htm#pic4_1" title="Рисование связи после выбора первой соединяемой переменной: перемещение курсора ко второму блоку (а), выбор соединяемой переменной (б), готовая связь (в)">меню для выбора переменной</a>
  в новом блоке и связь переключится со старого блока на новый.</li>
  <li>&laquo;Висящий в воздухе&raquo; конечный узел перемещается на изображение
  блока &ndash; откроется меню для выбора переменной в блоке и связь подключится
  к ней.</li>
</ul>

<p>Таким образом, пользователь может перетаскивать конечные узлы связи с блока
на блок или на свободное место рабочего поля, меняя тем самым выполняемые
связью соединения. Если необходимо переключить связь на другую переменную того же
самого блока, следует нажать правую кнопку мыши на конечном узле или на
отображаемом рядом с ним имени переменной и выбрать в
<a href="um_2_3.htm#ref16" title="Контекстное меню точки связи или шины">контекстном меню</a>
пункт &laquo;<span class="menu">переменная</span>&raquo;. При этом откроется стандартное
<a href="um_2_7_1.htm#pic3" title="Полный список переменных блока">окно списка переменных блока</a>,
в котором можно будет выбрать другую переменную или ввести ее имя
с клавиатуры.</p>

<p>Если в <a href="um_2_18.htm#pic1" title="Окно настроек: вкладка общие">настройках RDS</a> не отключен флажок
&laquo;<span class="menu">разрешить перемещение отдельных отрезков связей</span>&raquo; (по умолчанию он включен),
и в середине каждого отрезка связи изображается маркер в форме ромба, отдельные отрезки выделенной связи тоже
можно перемещать. Для того, чтобы переместить отрезок, следует нажать на его маркере левую кнопку мыши,
затем, удерживая ее нажатой, переместить курсор в нужную точку и отпустить кнопку
(<a href="#pic12" title="Последовательность перемещения отрезка связи">рис.&nbsp;59</a>).</p>

<div class="pic"><div class="container" id="pic12">
<div class="multi" id="pic12_0"><img src="../img/LineMove1.png" width="239" height="151" alt="Последовательность перемещения отрезка связи 1" /><p id="light_pic12_0">(а)</p></div><div class="multi" id="pic12_1"><img src="../img/LineMove2.png" width="239" height="151" alt="Последовательность перемещения отрезка связи 2" /><p id="light_pic12_1">(б)</p></div><div class="multi" id="pic12_2"><img src="../img/LineMove3.png" width="239" height="151" alt="Последовательность перемещения отрезка связи 3" /><p id="light_pic12_2">(в)</p></div><p id="light_pic12">Рис.&nbsp;59. Последовательность перемещения отрезка связи</p>
</div></div>


<p>Перемещение отрезка эквивалентно одновременному перемещению обоих его конечных узлов. Однако,
в отличие от перемещения одиночного узла, при перемещении отрезка невозможно вывести один из узлов связи за
пределы присоединенного блока или шины. Если, например, один из конечных узлов отрезка &ndash; точка
соединения с блоком, и в процессе перемещения отрезка эта точка вплотную подойдет к границе изображения блока,
с которым она соединена, далее она перемещаться не будет.</p>

<p><span id="light_ref8">Имя переменной</span>,
отображаемое рядом с точкой соединения связи с блоком, может быть, при желании,
перемещено либо в одно из стандартных фиксированных положений, либо в
произвольную точку рабочего поля. Кроме того, изображение имени переменной
может быть включено или выключено индивидуально для каждого конечного узла связи.
В RDS предусмотрено четыре стандартных положения имени переменной
относительно узла связи: слева сверху, слева снизу, справа сверху и справа снизу.
По умолчанию RDS автоматически помещает имя в одно из этих стандартных
положений, и перемещает его при перемещении точки связи относительно блока.
Для связей, подходящих к блоку слева, по умолчанию используется положение
слева сверху &ndash; при этом имя отображается непосредственно над линией
связи рядом с границей изображения блока
(на <a href="#pic11" title="Последовательность перемещения узла связи">рис.&nbsp;58</a> все имена переменных
располагаются слева сверху от соответствующих им узлов). Для связей,
подходящих к блоку справа, по умолчанию используется положение справа сверху
&ndash; имя также будет отображаться рядом с границей блока непосредственно
над линией. Для связей, подходящих к блоку сверху и снизу, по умолчанию
выбираются положения справа сверху и справа снизу соответственно
(на <a href="#pic2" title="Отключенная связь">рис.&nbsp;49</a> к самому правому
блоку связь подходит сверху, и имя переменной отображается справа сверху от
точки соединения).</p>

<p>Если выбираемое по умолчанию положение имени переменной не подходит по
каким-либо причинам (например, если имя перекрывает соседние связи), можно
изменить его, нажав на конечном узле связи или на самом имени переменной
правую кнопку мыши, выбрав в открывшемся контекстном меню подменю
&laquo;<span class="menu">положение имени</span>&raquo;, и в нем &ndash; нужное стандартное положение
(<a href="#pic13" title="Выбор стандартного положения имени переменной">рис.&nbsp;60</a>,
текущее используемое положение отмечается в этом подменю галочкой). После
этого имя зафиксируется в этом положении и будет оставаться в нем при
перемещении точки связи. Чтобы снова разрешить RDS автоматически подбирать
положение имени переменной, необходимо выбрать в этом же меню пункт
&laquo;<span class="menu">авто</span>&raquo;.</p>

<div class="pic"><div class="container" id="pic13">
<img src="../img/ConnPoint_ContextPopup.png" width="560" height="373" alt="Выбор стандартного положения имени переменной" />
<p id="light_pic13">Рис.&nbsp;60. Выбор стандартного положения имени переменной</p>
</div></div>


<p>
<span id="ref9">Если</span>
ни одно из стандартных положений имени переменной не подходит, можно просто
<span id="light_ref9">перетащить имя</span> левой кнопкой мыши в произвольное
место рабочего поля
(<a href="#pic14" title="Последовательность перемещения имени переменной">рис.&nbsp;61</a>).
В процессе перемещения новое положение имени будет изображаться прямоугольником,
соединенным пунктирными линиями с узлом связи, к которому это имя относится.</p>

<div class="pic"><div class="container" id="pic14">
<div class="multi" id="pic14_0"><img src="../img/ConnPointName_Move1.png" width="234" height="162" alt="Последовательность перемещения имени переменной 1" /><p id="light_pic14_0">(а)</p></div><div class="multi" id="pic14_1"><img src="../img/ConnPointName_Move2.png" width="234" height="162" alt="Последовательность перемещения имени переменной 2" /><p id="light_pic14_1">(б)</p></div><div class="multi" id="pic14_2"><img src="../img/ConnPointName_Move3.png" width="234" height="162" alt="Последовательность перемещения имени переменной 3" /><p id="light_pic14_2">(в)</p></div><p id="light_pic14">Рис.&nbsp;61. Последовательность перемещения имени переменной</p>
</div></div>


<p>Следует помнить, что конечные узлы связи и отображаемые рядом с ними имена
переменных всегда перемещаются вместе с блоками, к которым они присоединены,
при этом имя переменной сохраняет свое положение относительно узла.</p>

<p>Для
<span id="light_ref10">выключения или включения отображения имени переменной</span>
рядом с узлом следует нажать на узле (или на самом имени переменной)
правую кнопку мыши и выбрать в контекстном меню пункт
&laquo;<span class="menu">показывать имя</span>&raquo;
(см. <a href="#pic13" title="Выбор стандартного положения имени переменной">рис.&nbsp;60</a>). Если имя
отображалось, этот пункт будет помечен галочкой, и после его выбора имя
переменной будет скрыто. Если имя не отображалось, галочки возле пункта не
будет, и после его выбора имя переменной будет отображаться.
RDS помнит положение имени переменной для каждого конечного узла связи
даже если имя скрыто, поэтому при включении отображения имени оно появится
на том же месте, на котором находилось в момент отключения. Настройки
отображения имени переменной, сделанные в
<a href="um_2_9_2.htm" title="&sect;2.9.2. Редактирование списка переменных блока">списке переменных блока</a>
используются только в момент создания связи, после этого скрывать и
показывать имя переменной можно по желанию в любой момент. Разумеется,
если отображение имен переменных
<a href="um_2_3.htm#light_ref6" title="Панель элементов">отключено для всей подсистемы</a>, имена не
будут показаны независимо от установок в конечных узлах связей.</p>

<p><span id="ref11">Сразу</span>
после создания связи все линии, соединяющие ее узлы, изображаются прямыми.
Любая из них может быть заменена на <span id="light_ref11">кривую Безье</span>
(а кривая – обратно на прямую) при помощи контекстного меню, выводимого при
нажатии правой кнопки мыши на линии
(<a href="#pic15" title="Преобразование прямой линии в кривую Безье">рис.&nbsp;62</a>).
В этом меню следует выбрать пункт &laquo;<span class="menu">сделать кривой</span>&raquo;, после чего
на линии появятся дополнительные маркеры касательных
(на <a href="#pic15_2" title="Преобразование прямой линии в кривую Безье">рис.&nbsp;62&nbsp;в</a>
они отмечены стрелками).</p>

<div class="pic"><div class="container" id="pic15">
<div class="multi" id="pic15_0"><img src="../img/ConnLineToBezier1.png" width="129" height="141" alt="Преобразование прямой линии в кривую Безье 1" /><p id="light_pic15_0">(а)</p></div><div class="multi" id="pic15_1"><img src="../img/ConnLineToBezier2.png" width="304" height="429" alt="Преобразование прямой линии в кривую Безье 2" /><p id="light_pic15_1">(б)</p></div><div class="multi" id="pic15_2"><img src="../img/ConnLineToBezier3.png" width="117" height="141" alt="Преобразование прямой линии в кривую Безье 3" /><p id="light_pic15_2">(в)</p></div><p id="light_pic15">Рис.&nbsp;62. Преобразование прямой линии в кривую Безье</p>
</div></div>


<p>Сразу после преобразования в кривую линия визуально остается прямой из-за
того, что маркеры касательных размещаются на самой линии. Их можно
перетаскивать левой кнопкой мыши
(<a href="#pic16" title="Перемещение касательных кривой Безье">рис.&nbsp;63</a>),
при этом форма кривой будет изменяться. Для преобразования кривой обратно
в прямую следует снова вызвать контекстное меню линии и выбрать в нем
пункт &laquo;<span class="menu">сделать прямой</span>&raquo;, который у кривых линий выводится
вместо пункта &laquo;<span class="menu">сделать кривой</span>&raquo;
(см. <a href="#pic15_1" title="Преобразование прямой линии в кривую Безье">рис.&nbsp;62&nbsp;б</a>).</p>

<div class="pic"><div class="container" id="pic16">
<div class="multi" id="pic16_0"><img src="../img/ConnBezierMove1.png" width="119" height="140" alt="Перемещение касательных кривой Безье 1" /><p id="light_pic16_0">(а)</p></div><div class="multi" id="pic16_1"><img src="../img/ConnBezierMove2.png" width="119" height="140" alt="Перемещение касательных кривой Безье 2" /><p id="light_pic16_1">(б)</p></div><div class="multi" id="pic16_2"><img src="../img/ConnBezierMove3.png" width="119" height="140" alt="Перемещение касательных кривой Безье 3" /><p id="light_pic16_2">(в)</p></div><div class="multi" id="pic16_3"><img src="../img/ConnBezierMove4.png" width="119" height="140" alt="Перемещение касательных кривой Безье 4" /><p id="light_pic16_3">(г)</p></div><div class="multi" id="pic16_4"><img src="../img/ConnBezierMove5.png" width="119" height="140" alt="Перемещение касательных кривой Безье 5" /><p id="light_pic16_4">(д)</p></div><p id="light_pic16">Рис.&nbsp;63. Перемещение касательных кривой Безье</p>
</div></div>


<p>Если выделить связь и нажать клавишу <span class="keys">Delete</span>
или выбрать в меню пункт &laquo;<span class="menu">удалить</span>&raquo;, связь будет удалена
целиком, вместе со всеми своими узлами и линиями. При помощи
контекстного меню можно удалять отдельные узлы, линии и ветви связи.</p>

<p>Для того, чтобы удалить узел связи, следует нажать на нем правую кнопку
мыши и выбрать в контекстном меню пункт &laquo;<span class="menu">удалить узел</span>&raquo;.
В зависимости от того, какой узел выбран, будут выполнены
следующие действия:</p>

<ul>
  <li>Выбран узел, к которому подходит только одна линия связи (например, точка
  соединения с блоком) &ndash; из связи будет удален выбранный узел и
  подходящая к нему линия
  (<a href="#pic17" title="Удаление конечного узла">рис.&nbsp;64</a>).
  Если удаляемый узел соединялся с блоком или
  шиной, связь будет отсоединена.</li>
</ul>

<div class="pic"><div class="container" id="pic17">
<img src="../img/ConnDelNode1.png" width="522" height="126" alt="Удаление конечного узла" />
<p id="light_pic17">Рис.&nbsp;64. Удаление конечного узла</p>
</div></div>


<ul>
  <li>Выбран узел, к которому подходит две линии связи (промежуточный узел)
  &ndash; из связи будет удален выбранный узел и подходящие к нему линии,
  а соседние с ними узлы будут соединены новой прямой линией
  (<a href="#pic18" title="Удаление промежуточного узла">рис.&nbsp;65</a>).</li>
</ul>

<div class="pic"><div class="container" id="pic18">
<img src="../img/ConnDelNode2.png" width="522" height="126" alt="Удаление промежуточного узла" />
<p id="light_pic18">Рис.&nbsp;65. Удаление промежуточного узла</p>
</div></div>


<ul>
  <li>Выбран узел, к которому подходит более двух линий (точка ветвления) &ndash;
  после предупреждения пользователю узел и подходящие к нему линии будут
  удалены, в результате чего связь распадется на несколько независимых связей
  (<a href="#pic19" title="Удаление точки ветвления">рис.&nbsp;66</a>).
  Иногда бывает сложно предсказать, как именно связь разделится на несколько,
  поэтому вместо удаления точек ветвления лучше удалять отдельные ветви связи
  способом, описанным ниже.</li>
</ul>

<div class="pic"><div class="container" id="pic19">
<img src="../img/ConnDelNode3.png" width="522" height="126" alt="Удаление точки ветвления" />
<p id="light_pic19">Рис.&nbsp;66. Удаление точки ветвления</p>
</div></div>


<p>Для удаления линии, как и для удаления узла, следует нажать на этой
линии правую кнопку мыши и выбрать в открывшемся контекстном меню пункт
&laquo;<span class="menu">удалить линию</span>&raquo;. В зависимости от того, какая линия выбрана,
будут выполнены следующие действия:</p>

<ul>
  <li>Выбрана линия, на одном из концов которой находится конечный узел &ndash;
  линия и этот конечный узел будут удалены из связи. Если конечный узел
  соединялся с блоком, связь будет отсоединена
  (<a href="#pic20" title="Удаление конечной линии">рис.&nbsp;67</a>).</li>
</ul>

<div class="pic"><div class="container" id="pic20">
<img src="../img/ConnDelLine1.png" width="522" height="126" alt="Удаление конечной линии" />
<p id="light_pic20">Рис.&nbsp;67. Удаление конечной линии</p>
</div></div>


<ul>
  <li>Выбрана линия, на обеих концах которой находятся промежуточные узлы или
  точки ветвления &ndash; после предупреждения пользователю линия будет
  удалена, и связь разделится на две независимых связи
  (<a href="#pic21" title="Удаление промежуточной линии">рис.&nbsp;68</a>).</li>
</ul>

<div class="pic"><div class="container" id="pic21">
<img src="../img/ConnDelLine2.png" width="522" height="126" alt="Удаление промежуточной линии" />
<p id="light_pic21">Рис.&nbsp;68. Удаление промежуточной линии</p>
</div></div>


<p>При редактировании разветвленных связей бывает удобнее удалять не их
отдельные узлы и линии, а ветви целиком.
<span id="light_ref12">Ветвью</span>
считается участок связи в виде ломаной линии, на одном конце которого
находится конечный узел, а на другом &ndash; точка ветвления. Участки
между точками ветвления ветвями не считаются (фактически, они
принадлежат нескольким ветвям одновременно). Для удаления ветви следует
нажать на любой линии или любом узле, принадлежащем этой ветви,
правую кнопку мыши, а затем выбрать в открывшемся контекстном меню
пункт &laquo;<span class="menu">удалить ветвь</span>&raquo; (пункт будет отсутствовать, если
участок связи под курсором мыши не принадлежит одной из ветвей). В результате
из связи будут удалены все узлы и линии, принадлежащие ветви, и, если
конечный узел ветви был присоединен к блоку или шине, связь будет
отсоединена (<a href="#pic22" title="Удаление ветви связи">рис.&nbsp;69</a>).</p>

<div class="pic"><div class="container" id="pic22">
<img src="../img/ConnDelBranch.png" width="522" height="126" alt="Удаление ветви связи" />
<p id="light_pic22">Рис.&nbsp;69. Удаление ветви связи</p>
</div></div>


<p>Если в результате удаления узла, линии или ветви связи в этой связи
останется только один узел, связь будет удалена целиком &ndash; в любой
связи должно быть не менее двух узлов и одной линии.</p>

<p><span id="ref13">Промежуточные узлы</span>
можно <span id="light_ref13">добавлять</span> в связь в любой момент. Для
этого следует выбрать линию, внутрь которой будет добавлен промежуточный узел,
и нажать на этой линии в той точке, в которой будет находиться узел,
правую кнопку мыши. Откроется контекстное меню связи, в котором нужно выбрать
пункт &laquo;<span class="menu">добавить узел</span>&raquo;
(<a href="#pic23" title="Добавление промежуточного узла: вызов контекстного меню линии (а) и результат добавления (б)">рис.&nbsp;70</a>).
В результате в указанной точке будет добавлен узел, а линия связи разделится
на две отдельных линии, подходящих к этому узлу с обеих сторон. Если в окне
подсистемы включена привязка к сетке, узел может оказаться не в точности в
той точке, на которой была нажата правая кнопка мыши &ndash; он будет перемещен
к ближайшему узлу сетки, в результате чего линия может приобрести небольшой
излом, как на
<a href="#pic23_1" title="Добавление промежуточного узла: вызов контекстного меню линии (а) и результат добавления (б)">рис.&nbsp;70&nbsp;б</a>.
После добавления промежуточный узел можно обычным образом переместить в
любую точку рабочего поля подсистемы
(см. <a href="#pic11_1" title="Последовательность перемещения узла связи">рис.&nbsp;58&nbsp;б</a>).</p>

<div class="pic"><div class="container" id="pic23">
<div class="multi" id="pic23_0"><img src="../img/ConnAddNode1.png" width="378" height="417" alt="Добавление промежуточного узла: вызов контекстного меню линии (а) и результат добавления (б) 1" /><p id="light_pic23_0">(а)</p></div><div class="multi" id="pic23_1"><img src="../img/ConnAddNode2.png" width="214" height="121" alt="Добавление промежуточного узла: вызов контекстного меню линии (а) и результат добавления (б) 2" /><p id="light_pic23_1">(б)</p></div><p id="light_pic23">Рис.&nbsp;70. Добавление промежуточного узла: вызов контекстного<br />меню линии (а) и результат добавления (б)</p>
</div></div>


<p>Следует помнить, что, если в настройках RDS разрешена отмена действий
пользователя, любую из описанных выше операций редактирования связи можно
отменить, нажав
<span class="keys">Ctrl</span>&nbsp;+&nbsp;<span class="keys">Z</span> или
выбрав в <a href="um_2_1.htm" title="&sect;2.1. Главное окно и главное меню">главном меню</a>
RDS пункт &laquo;<span class="menu">система | отмена</span>&raquo;.</p>

</div>
<p style="clear:both; min-height:1em; padding:0px; margin: 0px;"></p><hr class="off" /><div class="bottomnav">
<div class="left">
<span class="button"><a href="um_2_7_1.htm" title="Предыдущий параграф" id="pgup_f">&lt;&lt;</a></span>
<span class="button"><a href="um_2_7_3.htm" title="Следующий параграф" id="pgdn_f">&gt;&gt;</a></span>
<span class="divider"></span>
<span class="button"><a href="um_index.htm#light_htm:um_2_7_2">Оглавление</a></span>
<span class="button"><a href="alpha.htm">Указатель</a></span>
</div>
</div>
</body>
</html>
