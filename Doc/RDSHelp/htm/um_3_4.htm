<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">
<head>
  <link rel="stylesheet" type="text/css" href="../css/main.css" />
  <link rel="stylesheet" type="text/css" href="../css/cpp.css" />
  <meta http-equiv="Content-Type" content="text/html;charset=windows-1251" />
  <script type="text/javascript" src="script.js"></script>
  <title>&sect;3.4. Окно параметров блока с автокомпилируемой моделью</title>
</head><body onload="DocLoad()">
<div class="pageheader"><span class="off"><b>Текущий раздел:</b></span>
<div class="int"><p id="top"><a href="../index.htm">Описания RDS</a></p>
<div class="level"><p><a href="um_index.htm">Описание пользователя</a></p>
<div class="level"><p><a href="um_index.htm#light_htm:um_3">Глава 3. Использование стандартных модулей автокомпиляции</a></p>
<div class="level"><p>&sect;3.4. Окно параметров блока с автокомпилируемой моделью</p>
</div>
</div>
</div>
</div></div>
<div class="topnav"><span class="off"><b>Навигация:</b></span>
<div class="left">
<span class="button"><a href="um_3_3.htm" title="Предыдущий параграф" id="pgup">&lt;&lt;</a></span>
<span class="button"><a href="um_3_5.htm" title="Следующий параграф" id="pgdn">&gt;&gt;</a></span>
<span class="divider"></span>
<span class="button"><a href="um_index.htm#light_htm:um_3_4">Оглавление</a></span>
<span class="button"><a href="alpha.htm">Указатель</a></span>
</div>
</div>

<div class="text">
<h1 class="off">Описание пользователя</h1>
<h2 class="off">Глава 3. Использование стандартных модулей автокомпиляции</h2>
<h3>&sect;3.4. Окно параметров блока с автокомпилируемой моделью</h3>
<p class="abstract">Рассматривается вкладка &laquo;компиляция&raquo; окна параметров блока и ее функции. На этой вкладке к блоку можно подключить новую модель или переключить его на работу с другой, ранее созданной, моделью.</p>


<p>В <a href="um_3_3.htm" title="&sect;3.3. Создание нового блока с автокомпилируемой моделью">&sect;3.3</a> описано создание автокомпилируемой модели блока через кнопку
&laquo;<span class="menu">новый</span>&raquo; на вкладке &laquo;<span class="menu">компиляция</span>&raquo;
<a href="um_3_3.htm#pic6" title="Имя файла модели в окне параметров блока">окна параметров этого блока</a>. Кроме этой кнопки, на вкладке
присутствует несколько других, вызывающих модуль автокомпиляции для различных действий с моделью, а также
поле ввода &laquo;<span class="menu">файл исходного текста</span>&raquo;, в которое можно вводить имя файла вручную.</p>

<p>Кнопка &laquo;<span class="menu">обзор</span>&raquo; позволяет подключить к блоку один из уже существующих файлов модели. Ее
нажатие вызывает диалог открытия файла, в котором следует выбрать файл модели, который будет подключен к этому
блоку. После выбора файла его имя появляется в поле ввода &laquo;<span class="menu">файл исходного текста</span>&raquo;. Как и при
создании новой модели, если ее файл находится в той же папке, что и схема, в поле ввода появится имя файла
без пути. Если же файл находится в одной из
<a href="um_2_18.htm#ref8" title="Стандартные папки RDS">стандартных папок RDS</a>, путь к этой папке будет заменен на ее
<a href="rdsGetFullFilePath.htm#ref1" title="Символические обозначения стандартных путей">символическое обозначение</a>
(&laquo;$MODELS$&raquo;, &laquo;$INI$&raquo; и т.п.). Таким образом, чтобы подключить к блоку уже
существующую модель, нужно:</p>

<ul>
  <li>открыть <a href="um_2_9_1.htm#ref2" title="окно параметров простого блока">окно параметров блока</a>;</li>
  <li>включить на вкладке &laquo;<span class="menu">компиляция</span>&raquo; флажок &laquo;<span class="menu">функция блока компилируется автоматически</span>&raquo;;</li>
  <li>выбрать в выпадающем списке &laquo;<span class="menu">модуль автокомпиляции</span>&raquo; название
  <a href="um_index.htm#light_htm:um_3_2" title="&sect;3.2. Установка стандартных модулей автокомпиляции и компиляторов">модуля</a>, который будет отвечать за компиляцию модели;</li>
  <li>нажать кнопку &laquo;<span class="menu">обзор</span>&raquo; и выбрать подключаемый файл модели (имя выбранного файла появится в
  поле ввода);</li>
  <li>закрыть окно параметров кнопкой &laquo;<span class="menu">OK</span>&raquo;.</li>
</ul>

<p>Файл модели будет подключен к блоку в момент закрытия окна параметров кнопкой &laquo;<span class="menu">OK</span>&raquo;, при этом
прежний список <a href="um_1_4.htm" title="&sect;1.4. Статические переменные блоков">статических переменных</a>
блока будет заменен на новый, загруженный из файла модели. Сразу после подключения автоматически откроется
<a href="um_3_3.htm#pic11" title="Окно редактора модели простейшего сумматора">окно редактора модели</a>. Следует помнить, что если один и тот же файл
модели подключен к нескольким блокам, изменения в модели (текста ее программы и прочих параметров, например,
списка переменных) будут распространяться на все блоки с этой моделью &ndash; как в текущей схеме, так и во всех
остальных. В текущей загруженной схеме изменения в модели записываются в блоки, связанные с ней, в момент
компиляции, в других схемах &ndash; в момент загрузки схемы. Часто пользователь хочет, взяв какую-либо уже
существующую модель за основу, создать новую, похожую на нее модель. При этом он должен понимать, что если он
создаст новый блок, подключит его к старой модели и начнет ее редактировать, внесенные изменения повлияют не
только на новый блок, но и на старый. Если необходимо создать копию модели для ее дальнейшего изменения, проще
всего скопировать блок со старой моделью в буфер обмена и вставить его копию в ту же самую схему: при этом модуль
автокомпиляции <a href="um_3_5.htm" title="&sect;3.5. Копирование блоков и схем с автокомпилируемыми моделями и совместное использование моделей">спросит у пользователя</a>, нужно ли копировать модель и
как назвать созданную копию.</p>

<p>Вместо выбора существующего файла модели кнопкой &laquo;<span class="menu">обзор</span>&raquo; или создания нового кнопкой
&laquo;<span class="menu">новый</span>&raquo;, можно вручную ввести какое-либо имя файла модели в поле ввода
&laquo;<span class="menu">файл исходного текста</span>&raquo; (разумеется, перед этим нужно установить флажок автоматической компиляции и
выбрать модуль). Если после этого закрыть окно параметров кнопкой &laquo;<span class="menu">OK</span>&raquo;, к блоку будет либо
подключен указанный файл модели, если он существует, либо будет либо создан и подключен новый пустой файл модели,
если файла с таким именем нет.</p>

<p><span id="light_ref1">Кнопка &laquo;<span class="menu">сохранить как</span>&raquo;</span>,
активная только при уже подключенной к блоку автокомпилируемой модели, создает копию файла этой модели
(имя запрашивается у пользователя) и подключает эту копию к блоку. Прежний файл модели при этом остается
подключенным ко всем блокам, кроме данного. Так можно отделить один блок от группы блоков, использующих одну и
ту же модель, и вносить в его новую модель изменения, не затрагивающие остальные блоки. Действие этой кнопки
отличается от действия пункта меню
<a href="um_3_6_1.htm#light_ref1" title="Пункт "сохранить как..." в меню редактора модели">&laquo;<span class="menu">файл | сохранить как</span>&raquo;</a> в редакторе модели &ndash; последний
подключает к новой модели не один конкретный блок, а все блоки загруженной схемы, использовавшие прежнюю модель.</p>

<p>Кнопка &laquo;<span class="menu">редактор</span>&raquo; тоже активна только при наличии подключенной модели, она открывает окно редактора
модели, оставляя модальное окно параметров блока на переднем плане. Поскольку при подключении новой модели к блоку
окно редактора открывается автоматически, а при редактировании схемы его можно вызвать из контекстного меню блока
(или, если у блока нет окна настройки, просто двойным щелчком), эта кнопка используется редко.</p>

<p>Следует учитывать, что подключение к блоку автокомпилируемой модели блокирует в окне его параметров кнопку
&laquo;<span class="menu">изменить</span>&raquo; на вкладке
<a href="um_2_9_1.htm#pic8" title="Вкладка переменные окна параметров блока">&laquo;<span class="menu">переменные</span>&raquo;</a>, которая вызывает редактор
переменных блока, а также поля ввода имени файла библиотеки DLL и функции в ней на
вкладке <a href="um_2_9_1.htm#ref21" title="Вкладка DLL параметров блока">&laquo;<span class="menu">DLL</span>&raquo;</a>. Редактирование переменных для таких блоков
<a href="um_3_6_2.htm" title="&sect;3.6.2. Статические переменные блока">производится через редактор модели</a>
одновременно для всех блоков с данной моделью, а подключением DLL к блоку занимается модуль автокомпиляции,
а не пользователь. Если отключить на вкладке &laquo;<span class="menu">компиляция</span>&raquo; флажок
&laquo;<span class="menu">функция блока компилируется автоматически</span>&raquo;, эти поля и кнопки снова станут активными, но
блок останется привязанным к скомпилированному при последнем изменении модели файлу DLL.</p>

</div>
<p style="clear:both; min-height:1em; padding:0px; margin: 0px;"></p><hr class="off" /><div class="bottomnav">
<div class="left">
<span class="button"><a href="um_3_3.htm" title="Предыдущий параграф" id="pgup_f">&lt;&lt;</a></span>
<span class="button"><a href="um_3_5.htm" title="Следующий параграф" id="pgdn_f">&gt;&gt;</a></span>
<span class="divider"></span>
<span class="button"><a href="um_index.htm#light_htm:um_3_4">Оглавление</a></span>
<span class="button"><a href="alpha.htm">Указатель</a></span>
</div>
</div>
</body>
</html>
