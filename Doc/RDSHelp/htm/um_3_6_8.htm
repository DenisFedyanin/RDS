<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">
<head>
  <link rel="stylesheet" type="text/css" href="../css/main.css" />
  <link rel="stylesheet" type="text/css" href="../css/cpp.css" />
  <meta http-equiv="Content-Type" content="text/html;charset=windows-1251" />
  <script type="text/javascript" src="script.js"></script>
  <title>&sect;3.6.8. Установка параметров блоков с автокомпилируемой моделью</title>
</head><body onload="DocLoad()">
<div class="pageheader"><span class="off"><b>Текущий раздел:</b></span>
<div class="int"><p id="top"><a href="../index.htm">Описания RDS</a></p>
<div class="level"><p><a href="um_index.htm">Описание пользователя</a></p>
<div class="level"><p><a href="um_index.htm#light_htm:um_3">Глава 3. Использование стандартных модулей автокомпиляции</a></p>
<div class="level"><p><a href="um_index.htm#light_htm:um_3_6">&sect;3.6. Окно редактора модели</a></p>
<div class="level"><p>&sect;3.6.8. Установка параметров блоков с автокомпилируемой моделью</p>
</div>
</div>
</div>
</div>
</div></div>
<div class="topnav"><span class="off"><b>Навигация:</b></span>
<div class="left">
<span class="button"><a href="um_3_6_7.htm" title="Предыдущий параграф" id="pgup">&lt;&lt;</a></span>
<span class="button"><a href="um_3_7_1.htm" title="Следующий параграф" id="pgdn">&gt;&gt;</a></span>
<span class="divider"></span>
<span class="button"><a href="um_index.htm#light_htm:um_3_6_8">Оглавление</a></span>
<span class="button"><a href="alpha.htm">Указатель</a></span>
</div>
</div>

<div class="text">
<h1 class="off">Описание пользователя</h1>
<h2 class="off">Глава 3. Использование стандартных модулей автокомпиляции</h2>
<h3 class="off">&sect;3.6. Окно редактора модели</h3>
<h4>&sect;3.6.8. Установка параметров блоков с автокомпилируемой моделью</h4>
<p class="abstract">Описывается способ одновременной установки параметров всех блоков с редактируемой моделью при помощи окна групповой установки, вызываемого непосредственно из редактора модели.</p>


<p>Поведение блока в RDS зависит не только от функции его модели, но и от индивидуальных настроек
параметров этого блока, которые могут изменять или запрещать некоторые его реакции. Например, будет ли блок
выполнять какие-либо действия при щелчках мыши на его изображении зависит не только от того, есть ли в его
модели реакция на нажатие кнопки мыши и что она делает, но и от того, разрешено ли блоку вообще реагировать на
действия мышью. Если реакция блока запрещена, он не будет выполнять никаких действий при щелчках мышью,
независимо от того, как написана его модель.</p>

<p>Параметры блоков с автокомпилируемыми моделями можно устанавливать точно так же, как и параметры любых
других блоков &ndash; при помощи
<a href="um_3_4.htm" title="&sect;3.4. Окно параметров блока с автокомпилируемой моделью">окна параметров</a>. Однако, это не очень удобно: как правило, параметры
всех блоков с одной и той же моделью делают одинаковыми, и открывать окно параметров для каждого из таких
блоков и вносить в него одни и те же изменения было бы неразумной тратой времени. Гораздо лучше в этом случае
воспользоваться
<a href="um_2_15_3.htm" title="&sect;2.15.3. Групповая установка параметров">одновременной установкой параметров</a>
нескольких блоков. Но и в этом случае необходимо, во-первых, предварительно выделить блоки с нужной моделью при
помощи функции
<a href="um_2_15_1.htm" title="&sect;2.15.1. Выделение блоков и связей по заданному критерию">выделения блоков по критерию</a>, и, во-вторых, если блоки с этой моделью
находятся в разных подсистемах, использовать функцию
<a href="um_2_15_4.htm" title="&sect;2.15.4. Пакетная обработка">пакетной обработки</a>. Чтобы упростить работу, в редактор модели
встроена функция групповой установки параметров всех блоков с данной моделью во всех подсистемах загруженной
схемы. Для вызова этой функции необходимо выбрать в <a href="um_3_6_1.htm" title="&sect;3.6.1. Элементы и меню окна редактора модели">редакторе</a>
пункт меню
&laquo;<span class="menu">модель | установка параметров блоков</span>&raquo; или нажать соответствующую ему кнопку.</p>

<p>Окно, открывающееся при вызове групповой установки из редактора модели
(<a href="#pic1" title="Окно установки параметров блоков &ndash; вкладка разное">рис.&nbsp;358</a>)
&ndash; это то же самое окно, которое вызывается пунктом
<a href="um_2_1.htm" title="&sect;2.1. Главное окно и главное меню">главного меню RDS</a>
&laquo;<span class="menu">редактирование | групповая установка</span>&raquo;. Однако, поскольку параметры будут устанавливаться только у
блоков с автокомпилируемой моделью, часть вкладок в этом окне будет отсутствовать, и часть параметров будет
недоступна для установки. Например, в нем нельзя изменить структуру переменных блока (это делается в самом
редакторе модели на
<a href="um_3_6_2.htm" title="&sect;3.6.2. Статические переменные блока">вкладке &laquo;<span class="menu">переменные</span>&raquo;</a>
его боковой панели)
или подключить к нему другую модель. Будут также отсутствовать все вкладки установки параметров связей.
<span id="light_ref1">Окно групповой установки</span>
было подробно описано в
<a href="um_2_15_3.htm" title="&sect;2.15.3. Групповая установка параметров">&sect;2.15.3</a>, поэтому здесь его функции будут описаны коротко.</p>

<div class="pic"><div class="container" id="pic1">
<img src="../img/AC_Groupset_Misc.png" width="638" height="478" alt="Окно установки параметров блоков &ndash; вкладка разное" />
<p id="light_pic1">Рис.&nbsp;358. Окно установки параметров блоков &ndash; вкладка &laquo;<span class="menu">разное</span>&raquo;</p>
</div></div>


<p>На вкладке &laquo;<span class="menu">разное</span>&raquo;, как обычно, отображается общее число выделенных блоков (в данном случае
&ndash; блоков с данной моделью). Здесь можно установить:</p>

<ul>
  <li>реакцию блока на двойной щелчок в режиме редактирования: при выборе варианта &laquo;<span class="menu">действия по умолчанию</span>&raquo;
  будет открываться <a href="um_3_4.htm" title="&sect;3.4. Окно параметров блока с автокомпилируемой моделью">окно параметров блока</a>, при выборе
  &laquo;<span class="menu">передается в функцию DLL</span>&raquo; &ndash; окно настройки, если оно у блока есть (создание окна настройки
  блока с автокомпилируемой моделью описано в <a href="um_3_6_6.htm" title="&sect;3.6.6. Настроечные параметры блока">&sect;3.6.6</a>);</li>

  <li>способ запуска модели блока в режиме расчета: при выборе варианта &laquo;<span class="menu">по сигналу готовности</span>&raquo; модель
  будет запускаться только при ненулевом значении
  <a href="um_1_4.htm#ref25" title="Сигнал запуска блока">первой сигнальной переменной</a>
  блока (то есть при явной установке сигнала запуска для данного блока), при выборе
  &laquo;<span class="menu">каждый такт расчета</span>&raquo; &ndash; принудительно в каждом
  <a href="um_1_3.htm#ref4" title="Такт расчета">такте</a>.</li>
</ul>

<p class="noindent">Панель установки <a href="um_2_12.htm" title="&sect;2.12.1. Использование слоев">слоя</a>
блока отключена, поскольку блоки с данной моделью могут находиться в
разных подсистемах с разным составом слоев, и поместить их все на один и тот же слой невозможно. Перемещать блоки
со слоя на слой следует индивидуально в каждой подсистеме. Кроме того, на вкладке &laquo;<span class="menu">разное</span>&raquo;
отключена и установка типа переменной для внешних входов и выходов, поскольку среди блоков с автоматически
компилируемыми моделями внешние входы и выходы практически не встречаются.</p>

<p>На вкладке &laquo;<span class="menu">внешний вид</span>&raquo;
(<a href="#pic2" title="Окно установки параметров блоков &ndash; вкладка внешний вид">рис.&nbsp;359</a>)
устанавливаются параметры, задающие изображение блоков в окне подсистемы:
<a href="um_1_2.htm#light_ref22">векторная картинка</a>
или простой прямоугольник с текстом и их настройки, имена переменных, управляющих перемещением, поворотом,
масштабированием и скрытием изображения блока, включение и выключение отображения имени блока и т.п. Все эти
параметры доступны для установки: тот факт, что они будут применены к блокам с автокомпилируемой моделью,
находящимся в разных подсистемах, никак на них не влияет.</p>

<div class="pic"><div class="container" id="pic2">
<img src="../img/AC_Groupset_Appearance.png" width="638" height="478" alt="Окно установки параметров блоков &ndash; вкладка внешний вид" />
<p id="light_pic2">Рис.&nbsp;359. Окно установки параметров блоков &ndash; вкладка &laquo;<span class="menu">внешний вид</span>&raquo;</p>
</div></div>


<p>На вкладке &laquo;<span class="menu">DLL</span>&raquo;
(<a href="#pic3" title="Окно установки параметров блоков &ndash; вкладка DLL">рис.&nbsp;360</a>)
можно включить и отключить некоторые реакции модели блока. Панель &laquo;<span class="menu">функция</span>&raquo;, на которой задается
имя файла DLL с моделью блока и имя функции этой модели, будет отключена, поскольку для блоков с автокомпилируемыми
моделями эти параметры устанавливаются модулем автокомпиляции и пользователь не может в них вмешиваться.</p>

<div class="pic"><div class="container" id="pic3">
<img src="../img/AC_Groupset_dll.png" width="638" height="478" alt="Окно установки параметров блоков &ndash; вкладка DLL" />
<p id="light_pic3">Рис.&nbsp;360. Окно установки параметров блоков &ndash; вкладка &laquo;<span class="menu">DLL</span>&raquo;</p>
</div></div>


<p>На вкладке можно изменить следующие параметры:</p>

<ul>
  <li>&laquo;<span class="menu">Реакция на мышь</span>&raquo; (&laquo;отсутствует&raquo; / &laquo;действия с нажатыми кнопками&raquo; /
  &laquo;все действия&raquo;) &ndash; разрешает, запрещает или ограничивает реакцию блока на мышь в режимах
  <a href="um_1_3.htm#ref2" title="Режим моделирования">моделирования</a> и <a href="um_1_3.htm#ref3" title="Режим расчета">расчета</a>. Для того, чтобы блок
  реагировал на действия пользователя мышью, кроме разрешения такой реакции необходимо ввести в его модель
  фрагмент программы, который будет выполняться при этих действиях (см. 
  <a href="um_3_7_10.htm" title="&sect;3.7.11. Реакция блока на мышь">&sect;3.7.11</a>).</li>

  <li>&laquo;<span class="menu">Функция настройки</span>&raquo; (&laquo;есть&raquo; / &laquo;нет&raquo;) &ndash; задает наличие у
  модели функции для открытия окна настройки параметров блока. В редакторе модели блока должны быть либо
  описаны параметры и окно настройки (см. <a href="um_3_6_6.htm" title="&sect;3.6.6. Настроечные параметры блока">&sect;3.6.6</a>), либо введена
  <a href="ac_RDS_BFM_SETUP.htm" title="&sect;3.8.11.2. Вызов настройки">реакция на событие <span class="cpp">RDS_BFM_SETUP</span></a>,
  в которой это окно будет открываться вручную при помощи
  <a href="app_index.htm#light_htm:app_a_5_28" title="А.5.28. Вспомогательный объект для работы с модальными окнами">сервисных функций RDS</a>.</li>

  <li>&laquo;<span class="menu">Название пункта меню</span>&raquo; &ndash; задает текст пункта меню, вызывающего окно настройки блока.</li>

  <li>&laquo;<span class="menu">Всплывающая подсказка</span>&raquo; (&laquo;есть&raquo; / &laquo;нет&raquo;) &ndash;
  разрешает или запрещает блоку реагировать на событие <span class="cpp"><a href="RDS_BFM_POPUPHINT.htm" title="А.2.6.12. RDS_BFM_POPUPHINT &ndash; вывод всплывающей подсказки">RDS_BFM_POPUPHINT</a></span>, возникающее при
  задержке курсора над изображением блока. В реакции на это событие необходимо вернуть в
  RDS текст всплывающей подсказки (см. <a href="um_3_7_8.htm" title="&sect;3.7.9. Всплывающие подсказки">&sect;3.7.9</a>).</li>

  <li>&laquo;<span class="menu">Реакция на клавиатуру</span>&raquo; (&laquo;есть&raquo; / &laquo;нет&raquo;) &ndash; разрешает или
  запрещает функции модели реагировать на нажатие и отпускание клавиш в режимах расчета и моделирования.
  В модель блока при этом необходимо ввести реакции на соответствующие события.</li>
</ul>

<p class="noindent">На панели &laquo;<span class="menu">реакции окна подсистемы</span>&raquo; можно управлять реакцией на мышь и
клавиатуру окна подсистемы, если это окно открыто и ни один блок внутри него не среагировал на эти
действия. Эта панель не будет отключена только для подсистем с автокомпилируемыми моделями, которые
встречаются крайне редко.</p>

<p>На вкладке &laquo;<span class="menu">комментарий</span>&raquo;
(<a href="#pic4" title="Окно установки параметров блоков &ndash; вкладка комментарий">рис.&nbsp;361</a>)
можно либо ввести полный текст комментария блока или добавить к нему заданный текст (в верхней части вкладки),
либо найти в тексте комментария заданные фрагменты текста и заменить их на другие (в нижней части). Обе панели
на вкладке всегда включены &ndash; наличие автокомпилируемой модели никак не связано с комментарием блока.</p>

<div class="pic"><div class="container" id="pic4">
<img src="../img/AC_Groupset_remarks.png" width="638" height="478" alt="Окно установки параметров блоков &ndash; вкладка комментарий" />
<p id="light_pic4">Рис.&nbsp;361. Окно установки параметров блоков &ndash; вкладка &laquo;<span class="menu">комментарий</span>&raquo;</p>
</div></div>


<p>Нажатие кнопки &laquo;<span class="menu">OK</span>&raquo; изменит параметры всех блоков с данной моделью по сделанным в окне
установкам. Как и обычную групповую установку параметров блоков, это изменение можно отменить пунктом главного
меню RDS &laquo;<span class="menu">система | отмена</span>&raquo;, если в
<a href="um_2_18.htm" title="&sect;2.18. Настройки RDS">настройках RDS</a>
разрешена отмена действий пользователя.</p>

</div>
<p style="clear:both; min-height:1em; padding:0px; margin: 0px;"></p><hr class="off" /><div class="bottomnav">
<div class="left">
<span class="button"><a href="um_3_6_7.htm" title="Предыдущий параграф" id="pgup_f">&lt;&lt;</a></span>
<span class="button"><a href="um_3_7_1.htm" title="Следующий параграф" id="pgdn_f">&gt;&gt;</a></span>
<span class="divider"></span>
<span class="button"><a href="um_index.htm#light_htm:um_3_6_8">Оглавление</a></span>
<span class="button"><a href="alpha.htm">Указатель</a></span>
</div>
</div>
</body>
</html>
